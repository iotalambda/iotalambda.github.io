<!DOCTYPE html><html lang="en" class="__variable_965427 __variable_9c011f"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="font" href="/_next/static/media/3d9ea938b6afa941-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/7eaa4a2482b4df1a-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/488301a2e2aae266.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/301e7291452e98cd.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-b2aba447c1dc2205.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-a99b58d3cc150217.js" async=""></script><script src="/_next/static/chunks/596-9d43875837bd0b65.js" async=""></script><script src="/_next/static/chunks/main-app-40cca1cf35ae5286.js" async=""></script><title>Blazor with TypeScript Interop | Food for AI blog</title><meta name="description" content="Blog about .NET, Azure, React and whatever comes to mind."/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="bg-slate-200 dark:bg-slate-700"><nav class="w-full flex flex-row justify-between bg-indigo-600 shadow-indigo-300 dark:shadow-indigo-800 shadow-2xl font-sans"><div class="p-2"><a class="text-2xl font-semibold text-neutral-100 dark:text-neutral-200" href="/"><h1 class="inline">üçî food for ai</h1> <span class="font-mono font-light text-xs">food.joona.cloud</span></a></div></nav><main class="mt-4"><div class="flex justify-center"><div class="md:px-10 min-w-0 max-w-7xl mb-12"><article><header class="px-5 mb-4 py-10 relative"><h1 class="text-3xl leading-none tracking-tight text-gray-900 md:text-4xl lg:text-5xl dark:text-gray-100">Blazor with TypeScript Interop</h1><time dateTime="2025-03-09 16:00" class="pl-1 font-serif text-slate-400 bottom-0 absolute"><svg class="h-4 w-4 inline-block" width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19l7-7 3 3-7 7-3-3z"></path> <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path> <path d="M2 2l7.586 7.586"></path> <circle cx="11" cy="11" r="2"></circle></svg> <!-- -->2025-03-09 16:00</time></header><div class="bg-slate-100 dark:bg-slate-800 p-5 pb-12 rounded shadow-lg"><p class="italic text-slate-400 p-4">You can find the full code for the example discussed here in its <a href="https://github.com/iotalambda/BlazorTsInteropExample">Github repo</a>. It's also running and available at <a href="https://food.joona.cloud/BlazorTsInteropExample">https://food.joona.cloud/BlazorTsInteropExample</a>.</p><hr class="h-px my-4 bg-gray-200 border-0 dark:bg-gray-700"/><div class="space-y-4"><p>Blazor has had support for JavaScript interop since <a href="https://learn.microsoft.com/en-us/aspnet/core/blazor/javascript-interoperability/?view=aspnetcore-3.1">day one</a>. It's fine and all, but it is still JavaScript and inherently dynamically typed. In this article, we have a look on one approach that allows us to use TypeScript instead. We use Vite to build distributable JavaScript modules from our TypeScript modules. In addition to having our types strong, we'd like to achieve some other quality-of-life improvements as well:</p>
<ul>
<li>The propagation of changes should be seamless between C#'s and TypeScript's type systems.</li>
<li>TS type checking should be automatic whenever types change.</li>
<li>Vite should build automatically whenever the Blazor app is built...</li>
<li>..but Vite should <strong>NOT</strong> build in case there are no relevant changes.</li>
<li>The distributables built by Vite should be reloadable while the Blazor app is running by refreshing the page, not requiring a full restart. Hot-reload could be tricky, so let's not include that to our scope.</li>
</ul>
<p>In this article we'll use Blazor WASM, but the approach works with Interactive Server as well.</p>
<h2 id="the-approach"><a href="#the-approach">The approach</a></h2>
<p>Ideally we'd like to have <em>adapters</em> that we'd be able to invoke in our C# code, for example:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="razor" data-theme="light"><code data-language="razor" data-theme="light"><span class="line"><span style="color: #6A737D">&#x3C;!-- Home.razor --></span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">@inject</span><span style="color: #24292E"> </span><span style="color: #6F42C1">BrowserConsoleAdapter</span><span style="color: #24292E"> </span><span style="color: #6F42C1">BrowserConsole</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">&#x3C;</span><span style="color: #22863A">button</span><span style="color: #24292E"> </span><span style="color: #6F42C1">onclick</span><span style="color: #24292E">=</span><span style="color: #032F62">@(()</span><span style="color: #24292E"> </span><span style="color: #B31D28; font-style: italic">=</span><span style="color: #24292E">> BrowserConsole.LogAsync("Greetings!"))></span></span>
<span class="line"><span style="color: #24292E">    Log greetings to browser console</span></span>
<span class="line"><span style="color: #24292E">&#x3C;/</span><span style="color: #22863A">button</span><span style="color: #24292E">></span></span></code></pre><pre data-language="razor" data-theme="dark"><code data-language="razor" data-theme="dark"><span class="line"><span style="color: #6A737D">&#x3C;!-- Home.razor --></span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">@inject</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">BrowserConsoleAdapter</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">BrowserConsole</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;</span><span style="color: #85E89D">button</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">onclick</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">@(()</span><span style="color: #E1E4E8"> </span><span style="color: #FDAEB7; font-style: italic">=</span><span style="color: #E1E4E8">> BrowserConsole.LogAsync("Greetings!"))></span></span>
<span class="line"><span style="color: #E1E4E8">    Log greetings to browser console</span></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;/</span><span style="color: #85E89D">button</span><span style="color: #E1E4E8">></span></span></code></pre></div>
<p>The <code>BrowserConsoleAdapter</code> class should be <em>somehow</em> mapped to a TypeScript module that would have a corresponding function to the <code>LogAsync</code> method:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="typescript" data-theme="light"><code data-language="typescript" data-theme="light"><span class="line"><span style="color: #6A737D">// browserConsoleAdapter.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">async</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">logAsync</span><span style="color: #24292E">(</span><span style="color: #E36209">message</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">  console.</span><span style="color: #6F42C1">log</span><span style="color: #24292E">(message)</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">export</span><span style="color: #24292E"> </span><span style="color: #D73A49">default</span><span style="color: #24292E"> { logAsync } </span><span style="color: #D73A49">as</span><span style="color: #24292E"> </span><span style="color: #6F42C1">IBrowserConsoleAdapter</span></span></code></pre><pre data-language="typescript" data-theme="dark"><code data-language="typescript" data-theme="dark"><span class="line"><span style="color: #6A737D">// browserConsoleAdapter.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">async</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">function</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">logAsync</span><span style="color: #E1E4E8">(</span><span style="color: #FFAB70">message</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">string</span><span style="color: #E1E4E8">) {</span></span>
<span class="line"><span style="color: #E1E4E8">  console.</span><span style="color: #B392F0">log</span><span style="color: #E1E4E8">(message)</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">export</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">default</span><span style="color: #E1E4E8"> { logAsync } </span><span style="color: #F97583">as</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">IBrowserConsoleAdapter</span></span></code></pre></div>
<p>If the signature of the <code>LogAsync</code> method changes, or methods are added to or removed from the <code>BrowserConsoleAdapter</code> class, then, when building the Blazor application, we'd get a build time error from TypeScript's type checking.</p>
<p>In the scenario above, click events originate from the <code>button</code> Blazor component and its <code>onclick</code> callback method simply invokes the <code>logAsync</code> TypeScript function over interop. But what if we'd also like to do the opposite: have an event listener instantiated in TypeScript which would invoke a C# handler method over interop? Let's say we'd like to listen for all click events and send information about their positions to a C# handler method <code>HandleClickAtAsync</code>:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="razor" data-theme="light"><code data-language="razor" data-theme="light"><span class="line"><span style="color: #6A737D">&#x3C;!-- Home.razor --></span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">&#x3C;</span><span style="color: #22863A">ol</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">@foreach</span><span style="color: #24292E"> (</span><span style="color: #D73A49">var</span><span style="color: #24292E"> (</span><span style="color: #6F42C1">x</span><span style="color: #24292E">, </span><span style="color: #6F42C1">y</span><span style="color: #24292E">) </span><span style="color: #D73A49">in</span><span style="color: #24292E"> clickPositions)</span></span>
<span class="line"><span style="color: #24292E">    {</span></span>
<span class="line"><span style="color: #24292E">        &#x3C;</span><span style="color: #22863A">li</span><span style="color: #24292E">>Clicked at </span><span style="color: #D73A49">@</span><span style="color: #24292E">x, </span><span style="color: #D73A49">@</span><span style="color: #24292E">y.&#x3C;/</span><span style="color: #22863A">li</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">&#x3C;/</span><span style="color: #22863A">ol</span><span style="color: #24292E">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">@code</span><span style="color: #24292E"> </span><span style="color: #D73A49">{</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6F42C1">List</span><span style="color: #24292E">&#x3C;(</span><span style="color: #D73A49">int</span><span style="color: #24292E"> </span><span style="color: #6F42C1">X</span><span style="color: #24292E">, </span><span style="color: #D73A49">int</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Y</span><span style="color: #24292E">)> </span><span style="color: #6F42C1">clickPositions</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    [</span><span style="color: #6F42C1">JSInvokable</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">public</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Task</span><span style="color: #24292E"> </span><span style="color: #6F42C1">HandleClickAtAsync</span><span style="color: #24292E">(</span><span style="color: #D73A49">int</span><span style="color: #24292E"> </span><span style="color: #6F42C1">x</span><span style="color: #24292E">, </span><span style="color: #D73A49">int</span><span style="color: #24292E"> </span><span style="color: #6F42C1">y</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    {</span></span>
<span class="line"><span style="color: #24292E">        clickPositions.</span><span style="color: #6F42C1">Add</span><span style="color: #24292E">((x, y));</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #6F42C1">StateHasChanged</span><span style="color: #24292E">();</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> Task.CompletedTask;</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #D73A49">}</span></span></code></pre><pre data-language="razor" data-theme="dark"><code data-language="razor" data-theme="dark"><span class="line"><span style="color: #6A737D">&#x3C;!-- Home.razor --></span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;</span><span style="color: #85E89D">ol</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">@foreach</span><span style="color: #E1E4E8"> (</span><span style="color: #F97583">var</span><span style="color: #E1E4E8"> (</span><span style="color: #B392F0">x</span><span style="color: #E1E4E8">, </span><span style="color: #B392F0">y</span><span style="color: #E1E4E8">) </span><span style="color: #F97583">in</span><span style="color: #E1E4E8"> clickPositions)</span></span>
<span class="line"><span style="color: #E1E4E8">    {</span></span>
<span class="line"><span style="color: #E1E4E8">        &#x3C;</span><span style="color: #85E89D">li</span><span style="color: #E1E4E8">>Clicked at </span><span style="color: #F97583">@</span><span style="color: #E1E4E8">x, </span><span style="color: #F97583">@</span><span style="color: #E1E4E8">y.&#x3C;/</span><span style="color: #85E89D">li</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;/</span><span style="color: #85E89D">ol</span><span style="color: #E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">@code</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">{</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">List</span><span style="color: #E1E4E8">&#x3C;(</span><span style="color: #F97583">int</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">X</span><span style="color: #E1E4E8">, </span><span style="color: #F97583">int</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Y</span><span style="color: #E1E4E8">)> </span><span style="color: #B392F0">clickPositions</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">    [</span><span style="color: #B392F0">JSInvokable</span><span style="color: #E1E4E8">]</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">public</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Task</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">HandleClickAtAsync</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">int</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">x</span><span style="color: #E1E4E8">, </span><span style="color: #F97583">int</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">y</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">    {</span></span>
<span class="line"><span style="color: #E1E4E8">        clickPositions.</span><span style="color: #B392F0">Add</span><span style="color: #E1E4E8">((x, y));</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #B392F0">StateHasChanged</span><span style="color: #E1E4E8">();</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">return</span><span style="color: #E1E4E8"> Task.CompletedTask;</span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"><span style="color: #F97583">}</span></span></code></pre></div>
<p>We'd want to be able to register a TypeScript event listener that would invoke this method on click events. The invocation should still be strongly typed, so if the signature of the <code>HandleClickAtAsync</code> method changes, we'd like to see any type check errors at build time.</p>
<h2 id="reinforcedtypings"><a href="#reinforcedtypings"><code>Reinforced.Typings</code></a></h2>
<p>There is an awesome .NET library for our type auto-generation needs: <a href="https://github.com/reinforced/Reinforced.Typings"><code>Reinforced.Typings</code></a>. It allows us to have our C# types to be automatically turned into TypeScript types at build time by simply annotating the C# types with attributes like <code>TsInterfaceAttribute</code>, which specifically generates a TypeScript interface.</p>
<p>A skeleton of the <code>BrowserConsoleAdapter</code> class annotated with <code>Reinforced.Typings</code> attributes would look like this:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="csharp" data-theme="light"><code data-language="csharp" data-theme="light"><span class="line"><span style="color: #6A737D">// BrowserConsoleAdapter.cs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">[</span><span style="color: #6F42C1">TsInterface</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #D73A49">public</span><span style="color: #24292E"> </span><span style="color: #D73A49">class</span><span style="color: #24292E"> </span><span style="color: #6F42C1">BrowserConsoleAdapter</span></span>
<span class="line"><span style="color: #24292E">{</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">public</span><span style="color: #24292E"> </span><span style="color: #D73A49">async</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Task</span><span style="color: #24292E"> </span><span style="color: #6F42C1">LogAsync</span><span style="color: #24292E">(</span><span style="color: #D73A49">string</span><span style="color: #24292E"> </span><span style="color: #6F42C1">message</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">throw</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">NotImplementedException</span><span style="color: #24292E">();</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre><pre data-language="csharp" data-theme="dark"><code data-language="csharp" data-theme="dark"><span class="line"><span style="color: #6A737D">// BrowserConsoleAdapter.cs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">[</span><span style="color: #B392F0">TsInterface</span><span style="color: #E1E4E8">]</span></span>
<span class="line"><span style="color: #F97583">public</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">class</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">BrowserConsoleAdapter</span></span>
<span class="line"><span style="color: #E1E4E8">{</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">public</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">async</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Task</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">LogAsync</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">string</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">message</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">    {</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">throw</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">new</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">NotImplementedException</span><span style="color: #E1E4E8">();</span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span></code></pre></div>
<p>In order to make the TypeScript type generation match our specific needs, we add the following three files to our C# project:</p>
<ul>
<li><code>Reinforced.Typings.Assembly.cs</code></li>
<li><code>ReinforcedTypingsConfiguration.cs</code></li>
<li><code>Reinforced.Typings.settings.xml</code>.</li>
</ul>
<h3 id="reinforcedtypingsassemblycs"><a href="#reinforcedtypingsassemblycs"><code>Reinforced.Typings.Assembly.cs</code></a></h3>
<p>In this file we have just an assembly marker, which sets some necessary and nice-to-have preferences. We don't necessarily need an entire dedicated file for this, but I still added one for code organization purposes:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="csharp" data-theme="light"><code data-language="csharp" data-theme="light"><span class="line"><span style="color: #6A737D">// Reinforced.Typings.Assembly.cs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">[</span><span style="color: #D73A49">assembly</span><span style="color: #24292E">: </span><span style="color: #6F42C1">Reinforced</span><span style="color: #24292E">.</span><span style="color: #6F42C1">Typings</span><span style="color: #24292E">.</span><span style="color: #6F42C1">Attributes</span><span style="color: #24292E">.</span><span style="color: #6F42C1">TsGlobal</span><span style="color: #24292E">(</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6F42C1">UseModules</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">true</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6F42C1">DiscardNamespacesWhenUsingModules</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">true</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6F42C1">TabSymbol</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #032F62">"    "</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6F42C1">CamelCaseForMethods</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">true</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6F42C1">CamelCaseForProperties</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">true</span></span>
<span class="line"><span style="color: #24292E">)]</span></span></code></pre><pre data-language="csharp" data-theme="dark"><code data-language="csharp" data-theme="dark"><span class="line"><span style="color: #6A737D">// Reinforced.Typings.Assembly.cs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">[</span><span style="color: #F97583">assembly</span><span style="color: #E1E4E8">: </span><span style="color: #B392F0">Reinforced</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">Typings</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">Attributes</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">TsGlobal</span><span style="color: #E1E4E8">(</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">UseModules</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">true</span><span style="color: #E1E4E8">,</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">DiscardNamespacesWhenUsingModules</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">true</span><span style="color: #E1E4E8">,</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">TabSymbol</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">"    "</span><span style="color: #E1E4E8">,</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">CamelCaseForMethods</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">true</span><span style="color: #E1E4E8">,</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">CamelCaseForProperties</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">true</span></span>
<span class="line"><span style="color: #E1E4E8">)]</span></span></code></pre></div>
<p><code>UseModules = true</code> makes the auto-generated TypeScript interfaces to be exported from a module and thus importable to our TypeScript handler implementations. <code>DiscardNamespacesWhenUsingModules = true</code> omits generating the interfaces inside TypeScript namespaces. <code>TabSymbol = "    "</code> makes the auto-generated code use four tabs for indentation (adjust this as needed). <code>CamelCaseForMethods = true</code> and <code>CamelCaseForProperties = true</code> do exactly as they state: make auto-generated method and property names use camel casing instead of C# style pascal casing. Note that <code>CamelCaseForProperties = true</code> affects both parameter and return types (in case complex types are used).</p>
<h3 id="reinforcedtypingsconfigurationcs"><a href="#reinforcedtypingsconfigurationcs"><code>ReinforcedTypingsConfiguration.cs</code></a></h3>
<p>In this file we set up a <code>ReinforcedTypingsConfiguration</code> class that is used for fine-tuning the default type generation logic:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="csharp" data-theme="light"><code data-language="csharp" data-theme="light"><span class="line"><span style="color: #6A737D">// ReinforcedTypingsConfiguration.cs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">public</span><span style="color: #24292E"> </span><span style="color: #D73A49">static</span><span style="color: #24292E"> </span><span style="color: #D73A49">class</span><span style="color: #24292E"> </span><span style="color: #6F42C1">ReinforcedTypingsConfiguration</span></span>
<span class="line"><span style="color: #24292E">{</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">public</span><span style="color: #24292E"> </span><span style="color: #D73A49">static</span><span style="color: #24292E"> </span><span style="color: #D73A49">void</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Configure</span><span style="color: #24292E">(</span><span style="color: #6F42C1">Reinforced</span><span style="color: #24292E">.</span><span style="color: #6F42C1">Typings</span><span style="color: #24292E">.</span><span style="color: #6F42C1">Fluent</span><span style="color: #24292E">.</span><span style="color: #6F42C1">ConfigurationBuilder</span><span style="color: #24292E"> </span><span style="color: #6F42C1">builder</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    {</span></span>
<span class="line"><span style="color: #24292E">        builder.</span><span style="color: #6F42C1">Substitute</span><span style="color: #24292E">(</span><span style="color: #D73A49">typeof</span><span style="color: #24292E">(</span><span style="color: #6F42C1">Task</span><span style="color: #24292E">), </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">RtSimpleTypeName</span><span style="color: #24292E">(</span><span style="color: #032F62">"Promise&#x3C;void>"</span><span style="color: #24292E">));</span></span>
<span class="line"><span style="color: #24292E">        builder.</span><span style="color: #6F42C1">Substitute</span><span style="color: #24292E">(</span><span style="color: #D73A49">typeof</span><span style="color: #24292E">(</span><span style="color: #6F42C1">Task</span><span style="color: #24292E">&#x3C;>), </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">RtSimpleTypeName</span><span style="color: #24292E">(</span><span style="color: #032F62">"Promise"</span><span style="color: #24292E">));</span></span>
<span class="line"><span style="color: #24292E">        builder.</span><span style="color: #6F42C1">Substitute</span><span style="color: #24292E">(</span><span style="color: #D73A49">typeof</span><span style="color: #24292E">(</span><span style="color: #6F42C1">Task</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">IJSObjectReference</span><span style="color: #24292E">>), </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">RtSimpleTypeName</span><span style="color: #24292E">(</span><span style="color: #032F62">"Promise&#x3C;any>"</span><span style="color: #24292E">));</span></span>
<span class="line"><span style="color: #24292E">        builder.</span><span style="color: #6F42C1">SubstituteGeneric</span><span style="color: #24292E">(</span><span style="color: #D73A49">typeof</span><span style="color: #24292E">(</span><span style="color: #6F42C1">DotNetObjectReference</span><span style="color: #24292E">&#x3C;>), (</span><span style="color: #6F42C1">_</span><span style="color: #24292E">, </span><span style="color: #6F42C1">_</span><span style="color: #24292E">) </span><span style="color: #D73A49">=></span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #6F42C1">RtSimpleTypeName</span><span style="color: #24292E">(</span><span style="color: #032F62">"DotNet.DotNetObject"</span><span style="color: #24292E">));</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre><pre data-language="csharp" data-theme="dark"><code data-language="csharp" data-theme="dark"><span class="line"><span style="color: #6A737D">// ReinforcedTypingsConfiguration.cs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">public</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">static</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">class</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">ReinforcedTypingsConfiguration</span></span>
<span class="line"><span style="color: #E1E4E8">{</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">public</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">static</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">void</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Configure</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">Reinforced</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">Typings</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">Fluent</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">ConfigurationBuilder</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">builder</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">    {</span></span>
<span class="line"><span style="color: #E1E4E8">        builder.</span><span style="color: #B392F0">Substitute</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">typeof</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">Task</span><span style="color: #E1E4E8">), </span><span style="color: #F97583">new</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">RtSimpleTypeName</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"Promise&#x3C;void>"</span><span style="color: #E1E4E8">));</span></span>
<span class="line"><span style="color: #E1E4E8">        builder.</span><span style="color: #B392F0">Substitute</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">typeof</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">Task</span><span style="color: #E1E4E8">&#x3C;>), </span><span style="color: #F97583">new</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">RtSimpleTypeName</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"Promise"</span><span style="color: #E1E4E8">));</span></span>
<span class="line"><span style="color: #E1E4E8">        builder.</span><span style="color: #B392F0">Substitute</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">typeof</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">Task</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">IJSObjectReference</span><span style="color: #E1E4E8">>), </span><span style="color: #F97583">new</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">RtSimpleTypeName</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"Promise&#x3C;any>"</span><span style="color: #E1E4E8">));</span></span>
<span class="line"><span style="color: #E1E4E8">        builder.</span><span style="color: #B392F0">SubstituteGeneric</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">typeof</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">DotNetObjectReference</span><span style="color: #E1E4E8">&#x3C;>), (</span><span style="color: #B392F0">_</span><span style="color: #E1E4E8">, </span><span style="color: #B392F0">_</span><span style="color: #E1E4E8">) </span><span style="color: #F97583">=></span><span style="color: #E1E4E8"> </span><span style="color: #F97583">new</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">RtSimpleTypeName</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"DotNet.DotNetObject"</span><span style="color: #E1E4E8">));</span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span></code></pre></div>
<p>First we set up type substitution between generic and non-generic <code>Task</code>s (C#) and <code>Promise</code>s (TypeScript), which is not set by default.</p>
<p>We also set type substitution specifically from <code>Task&#x3C;IJSObjectReference></code> (C#) to <code>Promise&#x3C;any></code> (TypeScript). This is needed when a TypeScript handler returns a reference to a JavaScript object and we'd like to have access to that in a C# invoker.</p>
<p>Finally, we set up substitution from the generic <code>DotNetObjectReference</code> (C#) to the non-generic <code>DotNet.DotNetObject</code> (TypeScript). This is needed when we want to pass a reference ‚Äì or really a handle ‚Äì of a .NET object to a TypeScript handler, for example, when we want TypeScript to invoke some method of that .NET object. This type substitution instructs <code>Reinforced.Typings</code> to essentially not generate any corresponding TypeScript types for the C# types of the objects we want to pass as arguments. As is, this would reduce the type safety of our approach, because breaking changes to the signatures of the C# handler methods would not make TypeScript type checking fail. We'll need to address this later.</p>
<p>The <code>DotNet.DotNetObject</code> (TypeScript) type is exported by the <a href="https://www.npmjs.com/package/@types/blazor__javascript-interop"><code>@types/blazor__javascript-interop</code></a> package. It is used in the Vite project to provide corresponding TypeScript types of Blazor's built-in object reference types.</p>
<h3 id="reinforcedtypingssettingsxml"><a href="#reinforcedtypingssettingsxml"><code>Reinforced.Typings.settings.xml</code></a></h3>
<p>This file contains a piece of MSBuild script that is imported to the C# project file each time the project is built:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="xml" data-theme="light"><code data-language="xml" data-theme="light"><span class="line"><span style="color: #6A737D">&#x3C;!-- Reinforced.Typings.settings.xml --></span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">&#x3C;?</span><span style="color: #22863A">xml</span><span style="color: #6F42C1"> version</span><span style="color: #24292E">=</span><span style="color: #032F62">"1.0"</span><span style="color: #6F42C1"> encoding</span><span style="color: #24292E">=</span><span style="color: #032F62">"utf-8"</span><span style="color: #24292E">?></span></span>
<span class="line"><span style="color: #24292E">&#x3C;</span><span style="color: #22863A">Project</span><span style="color: #24292E"> </span><span style="color: #6F42C1">ToolsVersion</span><span style="color: #24292E">=</span><span style="color: #032F62">"4.0"</span><span style="color: #24292E"> </span><span style="color: #6F42C1">DefaultTargets</span><span style="color: #24292E">=</span><span style="color: #032F62">"Build"</span><span style="color: #24292E"> </span><span style="color: #6F42C1">xmlns</span><span style="color: #24292E">=</span><span style="color: #032F62">"http://schemas.microsoft.com/developer/msbuild/2003"</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">    &#x3C;</span><span style="color: #22863A">PropertyGroup</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">        &#x3C;</span><span style="color: #22863A">RtTargetFile</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">            $(ProjectDir)Adapters\blazortsinteropexample\src\typings.ts</span></span>
<span class="line"><span style="color: #24292E">        &#x3C;/</span><span style="color: #22863A">RtTargetFile</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">        &#x3C;</span><span style="color: #22863A">RtConfigurationMethod</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">            BlazorTsInteropExample.Stuff.ReinforcedTypings.ReinforcedTypingsConfiguration.Configure</span></span>
<span class="line"><span style="color: #24292E">        &#x3C;/</span><span style="color: #22863A">RtConfigurationMethod</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">    &#x3C;/</span><span style="color: #22863A">PropertyGroup</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">&#x3C;/</span><span style="color: #22863A">Project</span><span style="color: #24292E">></span></span></code></pre><pre data-language="xml" data-theme="dark"><code data-language="xml" data-theme="dark"><span class="line"><span style="color: #6A737D">&#x3C;!-- Reinforced.Typings.settings.xml --></span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;?</span><span style="color: #85E89D">xml</span><span style="color: #B392F0"> version</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">"1.0"</span><span style="color: #B392F0"> encoding</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">"utf-8"</span><span style="color: #E1E4E8">?></span></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;</span><span style="color: #85E89D">Project</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">ToolsVersion</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">"4.0"</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">DefaultTargets</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">"Build"</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">xmlns</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">"http://schemas.microsoft.com/developer/msbuild/2003"</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">    &#x3C;</span><span style="color: #85E89D">PropertyGroup</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">        &#x3C;</span><span style="color: #85E89D">RtTargetFile</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">            $(ProjectDir)Adapters\blazortsinteropexample\src\typings.ts</span></span>
<span class="line"><span style="color: #E1E4E8">        &#x3C;/</span><span style="color: #85E89D">RtTargetFile</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">        &#x3C;</span><span style="color: #85E89D">RtConfigurationMethod</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">            BlazorTsInteropExample.Stuff.ReinforcedTypings.ReinforcedTypingsConfiguration.Configure</span></span>
<span class="line"><span style="color: #E1E4E8">        &#x3C;/</span><span style="color: #85E89D">RtConfigurationMethod</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">    &#x3C;/</span><span style="color: #85E89D">PropertyGroup</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;/</span><span style="color: #85E89D">Project</span><span style="color: #E1E4E8">></span></span></code></pre></div>
<p>With the <code>RtTargetFile</code> property, we instruct <code>Reinforced.Typings</code> to generate the types to the <code>typings.ts</code> file inside the <code>blazortsinteropexample</code> Vite project that contains our TypeScript code. We also instruct <code>Reinforced.Typings</code> to use the static <code>Configure</code> method of the <code>ReinforcedTypingsConfiguration</code> class we just implemented.</p>
<h2 id="wiring-the-up-the-c-project"><a href="#wiring-the-up-the-c-project">Wiring the up the C# project</a></h2>
<p>Before creating the <code>blazortsinteropexample</code> Vite project, let's set up our C# project in such a way that the type auto-generation and building the Vite project are part of the incremental MSBuild build process:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="xml" data-theme="light"><code data-language="xml" data-theme="light"><span class="line"><span style="color: #6A737D">&#x3C;!-- BlazorTsInteropExample.csproj --></span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">&#x3C;</span><span style="color: #22863A">Project</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Sdk</span><span style="color: #24292E">=</span><span style="color: #032F62">"Microsoft.NET.Sdk.BlazorWebAssembly"</span><span style="color: #24292E">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">  &#x3C;</span><span style="color: #22863A">PropertyGroup</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">    &#x3C;</span><span style="color: #22863A">RtSettingsXml</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">        $([MSBuild]::EnsureTrailingSlash($(MSBuildProjectDirectory)))Stuff/ReinforcedTypings/Reinforced.Typings.settings.xml</span></span>
<span class="line"><span style="color: #24292E">    &#x3C;/</span><span style="color: #22863A">RtSettingsXml</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">  &#x3C;/</span><span style="color: #22863A">PropertyGroup</span><span style="color: #24292E">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">  &#x3C;</span><span style="color: #22863A">ItemGroup</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">    &#x3C;</span><span style="color: #22863A">Folder</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Include</span><span style="color: #24292E">=</span><span style="color: #032F62">"wwwroot\js\"</span><span style="color: #24292E"> /></span></span>
<span class="line"><span style="color: #24292E">  &#x3C;/</span><span style="color: #22863A">ItemGroup</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">  &#x3C;</span><span style="color: #22863A">Target</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Name</span><span style="color: #24292E">=</span><span style="color: #032F62">"CompileTypeScript"</span><span style="color: #24292E">>&#x3C;/</span><span style="color: #22863A">Target</span><span style="color: #24292E">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">  &#x3C;</span><span style="color: #22863A">PropertyGroup</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">    &#x3C;</span><span style="color: #22863A">ProjectDirWithTrailing</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">        $([MSBuild]::EnsureTrailingSlash($(MSBuildProjectDirectory)))</span></span>
<span class="line"><span style="color: #24292E">    &#x3C;/</span><span style="color: #22863A">ProjectDirWithTrailing</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">  &#x3C;/</span><span style="color: #22863A">PropertyGroup</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">  &#x3C;</span><span style="color: #22863A">Target</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Name</span><span style="color: #24292E">=</span><span style="color: #032F62">"RunNpmBuild"</span><span style="color: #24292E"> </span><span style="color: #6F42C1">BeforeTargets</span><span style="color: #24292E">=</span><span style="color: #032F62">"Build"</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">    &#x3C;</span><span style="color: #22863A">Exec</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Command</span><span style="color: #24292E">=</span><span style="color: #032F62">"pwsh -File $(ProjectDirWithTrailing)Build/build_library.ps1 $(ProjectDirWithTrailing)"</span><span style="color: #24292E"> /></span></span>
<span class="line"><span style="color: #24292E">  &#x3C;/</span><span style="color: #22863A">Target</span><span style="color: #24292E">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">&#x3C;/</span><span style="color: #22863A">Project</span><span style="color: #24292E">></span></span></code></pre><pre data-language="xml" data-theme="dark"><code data-language="xml" data-theme="dark"><span class="line"><span style="color: #6A737D">&#x3C;!-- BlazorTsInteropExample.csproj --></span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;</span><span style="color: #85E89D">Project</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Sdk</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">"Microsoft.NET.Sdk.BlazorWebAssembly"</span><span style="color: #E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">  &#x3C;</span><span style="color: #85E89D">PropertyGroup</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">    &#x3C;</span><span style="color: #85E89D">RtSettingsXml</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">        $([MSBuild]::EnsureTrailingSlash($(MSBuildProjectDirectory)))Stuff/ReinforcedTypings/Reinforced.Typings.settings.xml</span></span>
<span class="line"><span style="color: #E1E4E8">    &#x3C;/</span><span style="color: #85E89D">RtSettingsXml</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">  &#x3C;/</span><span style="color: #85E89D">PropertyGroup</span><span style="color: #E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">  &#x3C;</span><span style="color: #85E89D">ItemGroup</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">    &#x3C;</span><span style="color: #85E89D">Folder</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Include</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">"wwwroot\js\"</span><span style="color: #E1E4E8"> /></span></span>
<span class="line"><span style="color: #E1E4E8">  &#x3C;/</span><span style="color: #85E89D">ItemGroup</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">  &#x3C;</span><span style="color: #85E89D">Target</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Name</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">"CompileTypeScript"</span><span style="color: #E1E4E8">>&#x3C;/</span><span style="color: #85E89D">Target</span><span style="color: #E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">  &#x3C;</span><span style="color: #85E89D">PropertyGroup</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">    &#x3C;</span><span style="color: #85E89D">ProjectDirWithTrailing</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">        $([MSBuild]::EnsureTrailingSlash($(MSBuildProjectDirectory)))</span></span>
<span class="line"><span style="color: #E1E4E8">    &#x3C;/</span><span style="color: #85E89D">ProjectDirWithTrailing</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">  &#x3C;/</span><span style="color: #85E89D">PropertyGroup</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">  &#x3C;</span><span style="color: #85E89D">Target</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Name</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">"RunNpmBuild"</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">BeforeTargets</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">"Build"</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">    &#x3C;</span><span style="color: #85E89D">Exec</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Command</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">"pwsh -File $(ProjectDirWithTrailing)Build/build_library.ps1 $(ProjectDirWithTrailing)"</span><span style="color: #E1E4E8"> /></span></span>
<span class="line"><span style="color: #E1E4E8">  &#x3C;/</span><span style="color: #85E89D">Target</span><span style="color: #E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;/</span><span style="color: #85E89D">Project</span><span style="color: #E1E4E8">></span></span></code></pre></div>
<p>First, we set a value for the <code>RtSettingsXml</code> property, so that <code>Reinforced.Typings</code> knows where to look for its settings at build time. We make sure that there are no extra slashes (or missing slashes) in the settings file's path by using the MSBuild utility function <code>EnsureTrailingSlash</code>.</p>
<p>We then explicitly include the <code>wwwroot\js\</code> folder to the project, so that the JavaScript distributables that that folder will contain would be part of the .NET publish.</p>
<p>We also replace the <code>CompileTypeScript</code> default MSBuild target with an empty one, so that MSBuild would not attempt to build the TypeScript files inside the Vite project as part of the build process.</p>
<p>Finally, we create a new MSBuild target called <code>RunNpmBuild</code>. This target runs the <code>build_library.ps1</code> script file using <code>pwsh</code> for cross-platform compatibility. <code>build_library.ps1</code> is responsible for the incremental build of the Vite project. So before the C# project is built, we want to check if the Vite project needs to be built as well, attempt to build it and finally have the JavaScript distributables to be put under the <code>wwwroot\js\</code> folder:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="powershell" data-theme="light"><code data-language="powershell" data-theme="light"><span class="line"><span style="color: #6A737D"># build_library.ps1</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">param</span><span style="color: #24292E">(</span></span>
<span class="line"><span style="color: #24292E">    [</span><span style="color: #D73A49">string</span><span style="color: #24292E">]$projectDirWithTrailing</span></span>
<span class="line"><span style="color: #24292E">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">$librarySourceDir </span><span style="color: #D73A49">=</span><span style="color: #24292E"> $projectDirWithTrailing </span><span style="color: #D73A49">+</span><span style="color: #24292E"> </span><span style="color: #032F62">'Adapters/blazortsinteropexample'</span></span>
<span class="line"><span style="color: #24292E">$npmBuildOutDir </span><span style="color: #D73A49">=</span><span style="color: #24292E"> $projectDirWithTrailing </span><span style="color: #D73A49">+</span><span style="color: #24292E"> </span><span style="color: #032F62">'wwwroot/js'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">$npmBuildOutDirExists </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">Test-Path</span><span style="color: #24292E"> </span><span style="color: #D73A49">-</span><span style="color: #24292E">Path $npmBuildOutDir</span></span>
<span class="line"><span style="color: #24292E">$npmBuildOutDirIsEmpty </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">if</span><span style="color: #24292E"> ($npmBuildOutDirExists) {</span></span>
<span class="line"><span style="color: #24292E">    (</span><span style="color: #005CC5">Get-ChildItem</span><span style="color: #24292E"> </span><span style="color: #D73A49">-</span><span style="color: #24292E">Path $npmBuildOutDir </span><span style="color: #D73A49">-</span><span style="color: #24292E">Recurse).Count </span><span style="color: #D73A49">-eq</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span></span>
<span class="line"><span style="color: #24292E">} </span><span style="color: #D73A49">else</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">$true</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> ($npmBuildOutDirIsEmpty) {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">Write-Host</span><span style="color: #24292E"> </span><span style="color: #032F62">'NpmBuildOutDir is empty. Running npm install...'</span></span>
<span class="line"><span style="color: #24292E">    cd $librarySourceDir</span></span>
<span class="line"><span style="color: #24292E">    npm install</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">Write-Host</span><span style="color: #24292E"> </span><span style="color: #032F62">'Building the library...'</span></span>
<span class="line"><span style="color: #24292E">    npm run build</span></span>
<span class="line"><span style="color: #24292E">} </span><span style="color: #D73A49">else</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">    $dateA </span><span style="color: #D73A49">=</span><span style="color: #24292E"> (</span><span style="color: #005CC5">Get-ChildItem</span><span style="color: #24292E"> </span><span style="color: #D73A49">-</span><span style="color: #24292E">LiteralPath $librarySourceDir </span><span style="color: #D73A49">-</span><span style="color: #24292E">File </span><span style="color: #D73A49">-</span><span style="color: #24292E">Recurse </span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">Where-Object</span><span style="color: #24292E"> { </span><span style="color: #005CC5">$_</span><span style="color: #24292E">.FullName </span><span style="color: #D73A49">-notlike</span><span style="color: #24292E"> </span><span style="color: #032F62">'*\node_modules\*'</span><span style="color: #24292E"> </span><span style="color: #D73A49">-and</span><span style="color: #24292E"> </span><span style="color: #005CC5">$_</span><span style="color: #24292E">.Name </span><span style="color: #D73A49">-ne</span><span style="color: #24292E"> </span><span style="color: #032F62">'typings.ts'</span><span style="color: #24292E"> } </span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">Sort-Object</span><span style="color: #24292E"> LastWriteTime </span><span style="color: #D73A49">-</span><span style="color: #24292E">Descending </span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">Select-Object</span><span style="color: #24292E"> </span><span style="color: #D73A49">-</span><span style="color: #24292E">First </span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">    ).LastWriteTime</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    $dateB </span><span style="color: #D73A49">=</span><span style="color: #24292E"> (</span><span style="color: #005CC5">Get-ChildItem</span><span style="color: #24292E"> </span><span style="color: #D73A49">-</span><span style="color: #24292E">LiteralPath $npmBuildOutDir </span><span style="color: #D73A49">-</span><span style="color: #24292E">File </span><span style="color: #D73A49">-</span><span style="color: #24292E">Recurse </span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">Sort-Object</span><span style="color: #24292E"> LastWriteTime </span><span style="color: #D73A49">-</span><span style="color: #24292E">Descending </span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">Select-Object</span><span style="color: #24292E"> </span><span style="color: #D73A49">-</span><span style="color: #24292E">First </span><span style="color: #005CC5">1</span></span>
<span class="line"><span style="color: #24292E">    ).LastWriteTime</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> ($dateA </span><span style="color: #D73A49">-gt</span><span style="color: #24292E"> $dateB) {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">Write-Host</span><span style="color: #24292E"> </span><span style="color: #032F62">'Library source files are newer than dist. Building the library...'</span></span>
<span class="line"><span style="color: #24292E">        cd $librarySourceDir</span></span>
<span class="line"><span style="color: #24292E">        npm run build</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span></code></pre><pre data-language="powershell" data-theme="dark"><code data-language="powershell" data-theme="dark"><span class="line"><span style="color: #6A737D"># build_library.ps1</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">param</span><span style="color: #E1E4E8">(</span></span>
<span class="line"><span style="color: #E1E4E8">    [</span><span style="color: #F97583">string</span><span style="color: #E1E4E8">]$projectDirWithTrailing</span></span>
<span class="line"><span style="color: #E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">$librarySourceDir </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> $projectDirWithTrailing </span><span style="color: #F97583">+</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">'Adapters/blazortsinteropexample'</span></span>
<span class="line"><span style="color: #E1E4E8">$npmBuildOutDir </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> $projectDirWithTrailing </span><span style="color: #F97583">+</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">'wwwroot/js'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">$npmBuildOutDirExists </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">Test-Path</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">-</span><span style="color: #E1E4E8">Path $npmBuildOutDir</span></span>
<span class="line"><span style="color: #E1E4E8">$npmBuildOutDirIsEmpty </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">if</span><span style="color: #E1E4E8"> ($npmBuildOutDirExists) {</span></span>
<span class="line"><span style="color: #E1E4E8">    (</span><span style="color: #79B8FF">Get-ChildItem</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">-</span><span style="color: #E1E4E8">Path $npmBuildOutDir </span><span style="color: #F97583">-</span><span style="color: #E1E4E8">Recurse).Count </span><span style="color: #F97583">-eq</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">0</span></span>
<span class="line"><span style="color: #E1E4E8">} </span><span style="color: #F97583">else</span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #79B8FF">$true</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">if</span><span style="color: #E1E4E8"> ($npmBuildOutDirIsEmpty) {</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #79B8FF">Write-Host</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">'NpmBuildOutDir is empty. Running npm install...'</span></span>
<span class="line"><span style="color: #E1E4E8">    cd $librarySourceDir</span></span>
<span class="line"><span style="color: #E1E4E8">    npm install</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #79B8FF">Write-Host</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">'Building the library...'</span></span>
<span class="line"><span style="color: #E1E4E8">    npm run build</span></span>
<span class="line"><span style="color: #E1E4E8">} </span><span style="color: #F97583">else</span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">    $dateA </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> (</span><span style="color: #79B8FF">Get-ChildItem</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">-</span><span style="color: #E1E4E8">LiteralPath $librarySourceDir </span><span style="color: #F97583">-</span><span style="color: #E1E4E8">File </span><span style="color: #F97583">-</span><span style="color: #E1E4E8">Recurse </span><span style="color: #F97583">|</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #79B8FF">Where-Object</span><span style="color: #E1E4E8"> { </span><span style="color: #79B8FF">$_</span><span style="color: #E1E4E8">.FullName </span><span style="color: #F97583">-notlike</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">'*\node_modules\*'</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">-and</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">$_</span><span style="color: #E1E4E8">.Name </span><span style="color: #F97583">-ne</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">'typings.ts'</span><span style="color: #E1E4E8"> } </span><span style="color: #F97583">|</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #79B8FF">Sort-Object</span><span style="color: #E1E4E8"> LastWriteTime </span><span style="color: #F97583">-</span><span style="color: #E1E4E8">Descending </span><span style="color: #F97583">|</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #79B8FF">Select-Object</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">-</span><span style="color: #E1E4E8">First </span><span style="color: #79B8FF">1</span></span>
<span class="line"><span style="color: #E1E4E8">    ).LastWriteTime</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">    $dateB </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> (</span><span style="color: #79B8FF">Get-ChildItem</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">-</span><span style="color: #E1E4E8">LiteralPath $npmBuildOutDir </span><span style="color: #F97583">-</span><span style="color: #E1E4E8">File </span><span style="color: #F97583">-</span><span style="color: #E1E4E8">Recurse </span><span style="color: #F97583">|</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #79B8FF">Sort-Object</span><span style="color: #E1E4E8"> LastWriteTime </span><span style="color: #F97583">-</span><span style="color: #E1E4E8">Descending </span><span style="color: #F97583">|</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #79B8FF">Select-Object</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">-</span><span style="color: #E1E4E8">First </span><span style="color: #79B8FF">1</span></span>
<span class="line"><span style="color: #E1E4E8">    ).LastWriteTime</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">if</span><span style="color: #E1E4E8"> ($dateA </span><span style="color: #F97583">-gt</span><span style="color: #E1E4E8"> $dateB) {</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #79B8FF">Write-Host</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">'Library source files are newer than dist. Building the library...'</span></span>
<span class="line"><span style="color: #E1E4E8">        cd $librarySourceDir</span></span>
<span class="line"><span style="color: #E1E4E8">        npm run build</span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span>
<span class="line"></span></code></pre></div>
<p>So we simply check if:</p>
<ul>
<li>There are not yet any JavaScript distributables in the <code>wwwroot/js</code> directory</li>
<li>OR if any of the files in the Vite project have more recent <code>LastWriteTime</code> compared to the current distributables.</li>
</ul>
<p>And if either of these conditions is met, the Vite project is built. Note that we exclude the <code>typings.ts</code> file from the <code>LastWriteTime</code> comparison, because <code>Reinforced.Typings</code> can regenerate the file even when no actual changes have been made.</p>
<h2 id="creating-the-vite-project"><a href="#creating-the-vite-project">Creating the Vite project</a></h2>
<p>In order to create the Vite project, one should navigate to the desired directory, which in our case is <code>Adapters/</code> under the <code>.csproj</code> project directory, and run the following command:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="sh" data-theme="light"><code data-language="sh" data-theme="light"><span class="line"><span style="color: #6F42C1">npm</span><span style="color: #24292E"> </span><span style="color: #032F62">create</span><span style="color: #24292E"> </span><span style="color: #032F62">vite@latest</span></span></code></pre><pre data-language="sh" data-theme="dark"><code data-language="sh" data-theme="dark"><span class="line"><span style="color: #B392F0">npm</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">create</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">vite@latest</span></span></code></pre></div>
<p>In our case the project name is <code>blazortsinteropexample</code> and we want to use just the vanilla Vite and the TypeScript variant.</p>
<p>Next, we install <code>@types/blazor__javascript-interop</code> as a dev dependency:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="sh" data-theme="light"><code data-language="sh" data-theme="light"><span class="line"><span style="color: #6F42C1">npm</span><span style="color: #24292E"> </span><span style="color: #032F62">install</span><span style="color: #24292E"> </span><span style="color: #005CC5">--save-dev</span><span style="color: #24292E"> </span><span style="color: #032F62">@types/blazor__javascript-interop</span></span></code></pre><pre data-language="sh" data-theme="dark"><code data-language="sh" data-theme="dark"><span class="line"><span style="color: #B392F0">npm</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">install</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">--save-dev</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">@types/blazor__javascript-interop</span></span></code></pre></div>
<p>Finally, since we use Prettier for code formatting, we want to exclude the auto-generated <code>typings.ts</code> from its scope by adding a <code>.prettierignore</code> file under the Vite project with the following content:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="powershell" data-theme="light"><code data-language="powershell" data-theme="light"><span class="line"><span style="color: #24292E">typings.ts</span></span></code></pre><pre data-language="powershell" data-theme="dark"><code data-language="powershell" data-theme="dark"><span class="line"><span style="color: #E1E4E8">typings.ts</span></span></code></pre></div>
<p>Assuming we added the earlier discussed <code>BrowserConsoleAdapter</code> skeleton to the C# project and we now run MSBuild, we should see the <code>typings.ts</code> file with the following content getting generated under the <code>src</code> directory of the Vite project:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="typescript" data-theme="light"><code data-language="typescript" data-theme="light"><span class="line"><span style="color: #6A737D">//     This code was generated by a Reinforced.Typings tool.</span></span>
<span class="line"><span style="color: #6A737D">//     Changes to this file may cause incorrect behavior and will be lost if</span></span>
<span class="line"><span style="color: #6A737D">//     the code is regenerated.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">export</span><span style="color: #24292E"> </span><span style="color: #D73A49">interface</span><span style="color: #24292E"> </span><span style="color: #6F42C1">IBrowserConsoleAdapter</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">  </span><span style="color: #6F42C1">logAsync</span><span style="color: #24292E">(</span><span style="color: #E36209">message</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E">)</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Promise</span><span style="color: #24292E">&#x3C;</span><span style="color: #005CC5">void</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre><pre data-language="typescript" data-theme="dark"><code data-language="typescript" data-theme="dark"><span class="line"><span style="color: #6A737D">//     This code was generated by a Reinforced.Typings tool.</span></span>
<span class="line"><span style="color: #6A737D">//     Changes to this file may cause incorrect behavior and will be lost if</span></span>
<span class="line"><span style="color: #6A737D">//     the code is regenerated.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">export</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">interface</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">IBrowserConsoleAdapter</span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #B392F0">logAsync</span><span style="color: #E1E4E8">(</span><span style="color: #FFAB70">message</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">string</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Promise</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #79B8FF">void</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span></code></pre></div>
<p>Next, let's implement the <code>logAsync</code> TypeScript handler according to the approach that we planned earlier:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="typescript" data-theme="light"><code data-language="typescript" data-theme="light"><span class="line"><span style="color: #6A737D">// browserConsoleAdapter.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> { IBrowserConsoleAdapter } </span><span style="color: #D73A49">from</span><span style="color: #24292E"> </span><span style="color: #032F62">"./typings"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">async</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">logAsync</span><span style="color: #24292E">(</span><span style="color: #E36209">message</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">  console.</span><span style="color: #6F42C1">log</span><span style="color: #24292E">(message)</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">export</span><span style="color: #24292E"> </span><span style="color: #D73A49">default</span><span style="color: #24292E"> { logAsync } </span><span style="color: #D73A49">as</span><span style="color: #24292E"> </span><span style="color: #6F42C1">IBrowserConsoleAdapter</span></span></code></pre><pre data-language="typescript" data-theme="dark"><code data-language="typescript" data-theme="dark"><span class="line"><span style="color: #6A737D">// browserConsoleAdapter.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">import</span><span style="color: #E1E4E8"> { IBrowserConsoleAdapter } </span><span style="color: #F97583">from</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">"./typings"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">async</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">function</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">logAsync</span><span style="color: #E1E4E8">(</span><span style="color: #FFAB70">message</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">string</span><span style="color: #E1E4E8">) {</span></span>
<span class="line"><span style="color: #E1E4E8">  console.</span><span style="color: #B392F0">log</span><span style="color: #E1E4E8">(message)</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">export</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">default</span><span style="color: #E1E4E8"> { logAsync } </span><span style="color: #F97583">as</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">IBrowserConsoleAdapter</span></span></code></pre></div>
<p>Note that the last line <code>export default { logAsync } as IBrowserConsoleAdapter</code> binds everything together and gives us the security of strong types:</p>
<ul>
<li>If members are removed from or added to the <code>BrowserConsoleAdapter</code> C# class, equivalent changes <strong>must</strong> be made to the <code>browserConsoleAdapter.ts</code> module's default export, or otherwise the Vite build and thus the MSBuild will fail. üéâ</li>
<li>If the signature of an existing member of the <code>BrowserConsoleAdapter</code> C# class change, equivalent changes <strong>must</strong> be made to the <code>browserConsoleAdapter.ts</code> module's default export, or otherwise the Vite build and thus the MSBuild will fail. üéâ</li>
</ul>
<p>Finally, let's instruct Vite to generate a <code>browserConsoleAdapter.js</code> module from the <code>browserConsoleAdapter.ts</code> module during build and output it to the JavaScript distributables directory under <code>wwwroot/js</code>. Let's make the followind changes to the <code>vite.config.js</code> file:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="javascript" data-theme="light"><code data-language="javascript" data-theme="light"><span class="line"><span style="color: #6A737D">// vite.config.js</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> { defineConfig } </span><span style="color: #D73A49">from</span><span style="color: #24292E"> </span><span style="color: #032F62">"vite"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D">// https://vitejs.dev/config/</span></span>
<span class="line"><span style="color: #D73A49">export</span><span style="color: #24292E"> </span><span style="color: #D73A49">default</span><span style="color: #24292E"> </span><span style="color: #6F42C1">defineConfig</span><span style="color: #24292E">({</span></span>
<span class="line"><span style="color: #24292E">  build: {</span></span>
<span class="line"><span style="color: #24292E">    emptyOutDir: </span><span style="color: #005CC5">true</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    outDir: </span><span style="color: #032F62">"../../wwwroot/js/dist"</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    lib: {</span></span>
<span class="line"><span style="color: #24292E">      entry: [</span><span style="color: #032F62">"src/browserConsoleAdapter.ts"</span><span style="color: #24292E">],</span></span>
<span class="line"><span style="color: #24292E">      formats: [</span><span style="color: #032F62">"es"</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">  }</span></span>
<span class="line"><span style="color: #24292E">})</span></span></code></pre><pre data-language="javascript" data-theme="dark"><code data-language="javascript" data-theme="dark"><span class="line"><span style="color: #6A737D">// vite.config.js</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">import</span><span style="color: #E1E4E8"> { defineConfig } </span><span style="color: #F97583">from</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">"vite"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D">// https://vitejs.dev/config/</span></span>
<span class="line"><span style="color: #F97583">export</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">default</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">defineConfig</span><span style="color: #E1E4E8">({</span></span>
<span class="line"><span style="color: #E1E4E8">  build: {</span></span>
<span class="line"><span style="color: #E1E4E8">    emptyOutDir: </span><span style="color: #79B8FF">true</span><span style="color: #E1E4E8">,</span></span>
<span class="line"><span style="color: #E1E4E8">    outDir: </span><span style="color: #9ECBFF">"../../wwwroot/js/dist"</span><span style="color: #E1E4E8">,</span></span>
<span class="line"><span style="color: #E1E4E8">    lib: {</span></span>
<span class="line"><span style="color: #E1E4E8">      entry: [</span><span style="color: #9ECBFF">"src/browserConsoleAdapter.ts"</span><span style="color: #E1E4E8">],</span></span>
<span class="line"><span style="color: #E1E4E8">      formats: [</span><span style="color: #9ECBFF">"es"</span><span style="color: #E1E4E8">]</span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"><span style="color: #E1E4E8">  }</span></span>
<span class="line"><span style="color: #E1E4E8">})</span></span></code></pre></div>
<p>We instruct Vite to first clear the <code>wwwroot/js/dist</code> directory and then output the built JavaScript module of the <code>browserConsoleAdapter.ts</code> TypeScript module/entry point in the ESModule format. This way we can later import each module separately, either eagerly or lazily as needed.</p>
<h2 id="browserconsoleadapter--from-c-to-typescript"><a href="#browserconsoleadapter--from-c-to-typescript"><code>BrowserConsoleAdapter</code> ‚Äì from C# to TypeScript</a></h2>
<p>Let's finalize the implementation of the <code>BrowserConsoleAdapter</code> class skeleton that we added earlier. In order to invoke the <code>logAsync</code> (TypeScript) function from the adapter, the adapter needs to make sure that the <code>browserConsoleAdapter.js</code> module has been imported. After that it can invoke the <code>logAsync</code> function that has been exported as part of the <code>default</code> object:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="csharp" data-theme="light"><code data-language="csharp" data-theme="light"><span class="line"><span style="color: #6A737D">// BrowserConsoleAdapter.cs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">[</span><span style="color: #6F42C1">TsInterface</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #D73A49">public</span><span style="color: #24292E"> </span><span style="color: #D73A49">class</span><span style="color: #24292E"> </span><span style="color: #6F42C1">BrowserConsoleAdapter</span><span style="color: #24292E">(IJSRuntime js)</span></span>
<span class="line"><span style="color: #24292E">{</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6F42C1">IJSObjectReference</span><span style="color: #24292E">? </span><span style="color: #6F42C1">module</span><span style="color: #24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">public</span><span style="color: #24292E"> </span><span style="color: #D73A49">async</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Task</span><span style="color: #24292E"> </span><span style="color: #6F42C1">LogAsync</span><span style="color: #24292E">(</span><span style="color: #D73A49">string</span><span style="color: #24292E"> </span><span style="color: #6F42C1">message</span><span style="color: #24292E">, [</span><span style="color: #6F42C1">TsIgnore</span><span style="color: #24292E">] </span><span style="color: #6F42C1">CancellationToken</span><span style="color: #24292E"> </span><span style="color: #6F42C1">cancellationToken</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> default)</span></span>
<span class="line"><span style="color: #24292E">    {</span></span>
<span class="line"><span style="color: #24292E">        module </span><span style="color: #D73A49">??=</span><span style="color: #24292E"> </span><span style="color: #D73A49">await</span><span style="color: #24292E"> </span><span style="color: #6F42C1">ImportModule</span><span style="color: #24292E">(cancellationToken);</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">await</span><span style="color: #24292E"> module.</span><span style="color: #6F42C1">InvokeVoidAsync</span><span style="color: #24292E">(</span><span style="color: #032F62">"default.logAsync"</span><span style="color: #24292E">, cancellationToken, [message]);</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    [</span><span style="color: #6F42C1">TsIgnore</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">async</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Task</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">IJSObjectReference</span><span style="color: #24292E">> </span><span style="color: #6F42C1">ImportModule</span><span style="color: #24292E">(</span><span style="color: #6F42C1">CancellationToken</span><span style="color: #24292E"> </span><span style="color: #6F42C1">cancellationToken</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">await</span><span style="color: #24292E"> js.</span><span style="color: #6F42C1">InvokeAsync</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">IJSObjectReference</span><span style="color: #24292E">>(</span><span style="color: #032F62">"import"</span><span style="color: #24292E">, cancellationToken, </span><span style="color: #032F62">"./js/dist/browserConsoleAdapter.js"</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre><pre data-language="csharp" data-theme="dark"><code data-language="csharp" data-theme="dark"><span class="line"><span style="color: #6A737D">// BrowserConsoleAdapter.cs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">[</span><span style="color: #B392F0">TsInterface</span><span style="color: #E1E4E8">]</span></span>
<span class="line"><span style="color: #F97583">public</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">class</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">BrowserConsoleAdapter</span><span style="color: #E1E4E8">(IJSRuntime js)</span></span>
<span class="line"><span style="color: #E1E4E8">{</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">IJSObjectReference</span><span style="color: #E1E4E8">? </span><span style="color: #B392F0">module</span><span style="color: #E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">public</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">async</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Task</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">LogAsync</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">string</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">message</span><span style="color: #E1E4E8">, [</span><span style="color: #B392F0">TsIgnore</span><span style="color: #E1E4E8">] </span><span style="color: #B392F0">CancellationToken</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">cancellationToken</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> default)</span></span>
<span class="line"><span style="color: #E1E4E8">    {</span></span>
<span class="line"><span style="color: #E1E4E8">        module </span><span style="color: #F97583">??=</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">await</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">ImportModule</span><span style="color: #E1E4E8">(cancellationToken);</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">await</span><span style="color: #E1E4E8"> module.</span><span style="color: #B392F0">InvokeVoidAsync</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"default.logAsync"</span><span style="color: #E1E4E8">, cancellationToken, [message]);</span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">    [</span><span style="color: #B392F0">TsIgnore</span><span style="color: #E1E4E8">]</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">async</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Task</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">IJSObjectReference</span><span style="color: #E1E4E8">> </span><span style="color: #B392F0">ImportModule</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">CancellationToken</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">cancellationToken</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">    {</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">return</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">await</span><span style="color: #E1E4E8"> js.</span><span style="color: #B392F0">InvokeAsync</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">IJSObjectReference</span><span style="color: #E1E4E8">>(</span><span style="color: #9ECBFF">"import"</span><span style="color: #E1E4E8">, cancellationToken, </span><span style="color: #9ECBFF">"./js/dist/browserConsoleAdapter.js"</span><span style="color: #E1E4E8">);</span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span></code></pre></div>
<p>We can inject <code>IJSRuntime</code> to the <code>BrowserConsoleAdapter</code> object and use it to import the <code>browserConsoleAdapter.js</code> module located under the <code>wwwroot/js/dist</code> directory. Note that we annotate the <code>ImportModule</code> method with <code>TsIgnoreAttribute</code> in order to exclude it from the <code>typings.ts</code> auto-generation. We also added a <code>CancellationToken</code> parameter to the <code>LogAsync</code> method, so that the import and the remote invocation over interop can be both cancelled gracefully if needed. We annotate it with <code>TsIgnoreAttribute</code> as well, because we don't want to pass <code>CancellationToken</code> objects as serialized JSON over interop. With <code>??=</code> we ensure that the module import is attempted only once in the scope of a single adapter object. When another adapter object is instantiated and the import is attempted again, the usual JavaScript module caching conventions of the user's browser are applied.</p>
<p>Let's add the <code>BrowserConsoleAdapter</code> class as a scoped service to the C# project's Dependency Injection container in the <code>Program.cs</code> file and let's use it to print greetings to the browser console:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="csharp" data-theme="light"><code data-language="csharp" data-theme="light"><span class="line"><span style="color: #6A737D">// Program.cs</span></span>
<span class="line"><span style="color: #24292E">builder.Services.</span><span style="color: #6F42C1">AddScoped</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">BrowserConsoleAdapter</span><span style="color: #24292E">>();</span></span></code></pre><pre data-language="csharp" data-theme="dark"><code data-language="csharp" data-theme="dark"><span class="line"><span style="color: #6A737D">// Program.cs</span></span>
<span class="line"><span style="color: #E1E4E8">builder.Services.</span><span style="color: #B392F0">AddScoped</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">BrowserConsoleAdapter</span><span style="color: #E1E4E8">>();</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment=""><pre data-language="razor" data-theme="light"><code data-language="razor" data-theme="light"><span class="line"><span style="color: #6A737D">&#x3C;!-- Home.razor --></span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">@inject</span><span style="color: #24292E"> </span><span style="color: #6F42C1">BrowserConsoleAdapter</span><span style="color: #24292E"> </span><span style="color: #6F42C1">BrowserConsole</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">&#x3C;</span><span style="color: #22863A">h1</span><span style="color: #24292E">>C# ‚Üí TypeScript&#x3C;/</span><span style="color: #22863A">h1</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">&#x3C;</span><span style="color: #22863A">button</span><span style="color: #24292E"> </span><span style="color: #6F42C1">onclick</span><span style="color: #24292E">=</span><span style="color: #032F62">@(()</span><span style="color: #24292E"> </span><span style="color: #B31D28; font-style: italic">=</span><span style="color: #24292E">> BrowserConsole.LogAsync("Greetings!"))></span></span>
<span class="line"><span style="color: #24292E">    Log greetings to browser console</span></span>
<span class="line"><span style="color: #24292E">&#x3C;/</span><span style="color: #22863A">button</span><span style="color: #24292E">></span></span></code></pre><pre data-language="razor" data-theme="dark"><code data-language="razor" data-theme="dark"><span class="line"><span style="color: #6A737D">&#x3C;!-- Home.razor --></span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">@inject</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">BrowserConsoleAdapter</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">BrowserConsole</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;</span><span style="color: #85E89D">h1</span><span style="color: #E1E4E8">>C# ‚Üí TypeScript&#x3C;/</span><span style="color: #85E89D">h1</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;</span><span style="color: #85E89D">button</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">onclick</span><span style="color: #E1E4E8">=</span><span style="color: #9ECBFF">@(()</span><span style="color: #E1E4E8"> </span><span style="color: #FDAEB7; font-style: italic">=</span><span style="color: #E1E4E8">> BrowserConsole.LogAsync("Greetings!"))></span></span>
<span class="line"><span style="color: #E1E4E8">    Log greetings to browser console</span></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;/</span><span style="color: #85E89D">button</span><span style="color: #E1E4E8">></span></span></code></pre></div>
<p>Now, if we build and launch the Blazor application, we should be able to see the <code>button</code> which prints greetings to the browser console when clicked.</p>
<h2 id="pointereventsadapter--from-typescript-to-c"><a href="#pointereventsadapter--from-typescript-to-c"><code>PointerEventsAdapter</code> ‚Äì from TypeScript to C#</a></h2>
<p>Earlier we added the <code>HandleClickAtAsync</code> C# handler method to the <code>Home.razor</code> file. We'd like that to be invoked whenever a user clicks on the page. The TypeScript invoker must have access to a <code>DotNet.DotNetObject</code> (TypeScript) handle of the <code>Home</code> component object that we'd like to use for handling the invocation. While initializing the <code>Home</code> component, let's create a <code>DotNetObjectReference</code> (C#) handle that refers to the <code>Home</code> component object itself:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="razor" data-theme="light"><code data-language="razor" data-theme="light"><span class="line"><span style="color: #6A737D">&#x3C;!-- Home.razor --></span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">@inject</span><span style="color: #24292E"> </span><span style="color: #6F42C1">PointerEventsAdapter</span><span style="color: #24292E"> </span><span style="color: #6F42C1">PointerEvents</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">&#x3C;</span><span style="color: #22863A">h1</span><span style="color: #24292E">>TypeScript ‚Üí C#&#x3C;/</span><span style="color: #22863A">h1</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">&#x3C;</span><span style="color: #22863A">ol</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">@foreach</span><span style="color: #24292E"> (</span><span style="color: #D73A49">var</span><span style="color: #24292E"> (</span><span style="color: #6F42C1">x</span><span style="color: #24292E">, </span><span style="color: #6F42C1">y</span><span style="color: #24292E">) </span><span style="color: #D73A49">in</span><span style="color: #24292E"> clickPositions)</span></span>
<span class="line"><span style="color: #24292E">    {</span></span>
<span class="line"><span style="color: #24292E">        &#x3C;</span><span style="color: #22863A">li</span><span style="color: #24292E">>Clicked at </span><span style="color: #D73A49">@</span><span style="color: #24292E">x, </span><span style="color: #D73A49">@</span><span style="color: #24292E">y.&#x3C;/</span><span style="color: #22863A">li</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">&#x3C;/</span><span style="color: #22863A">ol</span><span style="color: #24292E">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">@code</span><span style="color: #24292E"> </span><span style="color: #D73A49">{</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6F42C1">DotNetObjectReference</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">Home</span><span style="color: #24292E">>? </span><span style="color: #6F42C1">selfReference</span><span style="color: #24292E">;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6F42C1">List</span><span style="color: #24292E">&#x3C;(</span><span style="color: #D73A49">int</span><span style="color: #24292E"> </span><span style="color: #6F42C1">X</span><span style="color: #24292E">, </span><span style="color: #D73A49">int</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Y</span><span style="color: #24292E">)> </span><span style="color: #6F42C1">clickPositions</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">protected</span><span style="color: #24292E"> </span><span style="color: #D73A49">override</span><span style="color: #24292E"> </span><span style="color: #D73A49">async</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Task</span><span style="color: #24292E"> </span><span style="color: #6F42C1">OnInitializedAsync</span><span style="color: #24292E">()</span></span>
<span class="line"><span style="color: #24292E">    {</span></span>
<span class="line"><span style="color: #24292E">        selfReference </span><span style="color: #D73A49">=</span><span style="color: #24292E"> DotNetObjectReference.</span><span style="color: #6F42C1">Create</span><span style="color: #24292E">(</span><span style="color: #D73A49">this</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">await</span><span style="color: #24292E"> PointerEvents.</span><span style="color: #6F42C1">AddForHandlerAsync</span><span style="color: #24292E">(selfReference, default);</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    [</span><span style="color: #6F42C1">JSInvokable</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">public</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Task</span><span style="color: #24292E"> </span><span style="color: #6F42C1">HandleClickAtAsync</span><span style="color: #24292E">(</span><span style="color: #D73A49">int</span><span style="color: #24292E"> </span><span style="color: #6F42C1">x</span><span style="color: #24292E">, </span><span style="color: #D73A49">int</span><span style="color: #24292E"> </span><span style="color: #6F42C1">y</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    {</span></span>
<span class="line"><span style="color: #24292E">        clickPositions.</span><span style="color: #6F42C1">Add</span><span style="color: #24292E">((x, y));</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #6F42C1">StateHasChanged</span><span style="color: #24292E">();</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> Task.CompletedTask;</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #D73A49">}</span></span></code></pre><pre data-language="razor" data-theme="dark"><code data-language="razor" data-theme="dark"><span class="line"><span style="color: #6A737D">&#x3C;!-- Home.razor --></span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">@inject</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">PointerEventsAdapter</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">PointerEvents</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;</span><span style="color: #85E89D">h1</span><span style="color: #E1E4E8">>TypeScript ‚Üí C#&#x3C;/</span><span style="color: #85E89D">h1</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;</span><span style="color: #85E89D">ol</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">@foreach</span><span style="color: #E1E4E8"> (</span><span style="color: #F97583">var</span><span style="color: #E1E4E8"> (</span><span style="color: #B392F0">x</span><span style="color: #E1E4E8">, </span><span style="color: #B392F0">y</span><span style="color: #E1E4E8">) </span><span style="color: #F97583">in</span><span style="color: #E1E4E8"> clickPositions)</span></span>
<span class="line"><span style="color: #E1E4E8">    {</span></span>
<span class="line"><span style="color: #E1E4E8">        &#x3C;</span><span style="color: #85E89D">li</span><span style="color: #E1E4E8">>Clicked at </span><span style="color: #F97583">@</span><span style="color: #E1E4E8">x, </span><span style="color: #F97583">@</span><span style="color: #E1E4E8">y.&#x3C;/</span><span style="color: #85E89D">li</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"><span style="color: #E1E4E8">&#x3C;/</span><span style="color: #85E89D">ol</span><span style="color: #E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">@code</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">{</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">DotNetObjectReference</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">Home</span><span style="color: #E1E4E8">>? </span><span style="color: #B392F0">selfReference</span><span style="color: #E1E4E8">;</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">List</span><span style="color: #E1E4E8">&#x3C;(</span><span style="color: #F97583">int</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">X</span><span style="color: #E1E4E8">, </span><span style="color: #F97583">int</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Y</span><span style="color: #E1E4E8">)> </span><span style="color: #B392F0">clickPositions</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">protected</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">override</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">async</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Task</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">OnInitializedAsync</span><span style="color: #E1E4E8">()</span></span>
<span class="line"><span style="color: #E1E4E8">    {</span></span>
<span class="line"><span style="color: #E1E4E8">        selfReference </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> DotNetObjectReference.</span><span style="color: #B392F0">Create</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">this</span><span style="color: #E1E4E8">);</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">await</span><span style="color: #E1E4E8"> PointerEvents.</span><span style="color: #B392F0">AddForHandlerAsync</span><span style="color: #E1E4E8">(selfReference, default);</span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">    [</span><span style="color: #B392F0">JSInvokable</span><span style="color: #E1E4E8">]</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">public</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Task</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">HandleClickAtAsync</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">int</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">x</span><span style="color: #E1E4E8">, </span><span style="color: #F97583">int</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">y</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">    {</span></span>
<span class="line"><span style="color: #E1E4E8">        clickPositions.</span><span style="color: #B392F0">Add</span><span style="color: #E1E4E8">((x, y));</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #B392F0">StateHasChanged</span><span style="color: #E1E4E8">();</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">return</span><span style="color: #E1E4E8"> Task.CompletedTask;</span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"><span style="color: #F97583">}</span></span></code></pre></div>
<p>We also inject a <code>PointerEventsAdapter</code> object to the component and invoke its <code>AddForHandlerAsync</code> method. This method essentially passes the <code>DotNetObjectReference&#x3C;Home></code> (C#) handle from C# to TypeScript by invoking the <code>addForHandlerAsync</code> handler function of <code>pointerEventsAdapter.js</code>, a new JavaScript module that will be introduced in a moment:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="csharp" data-theme="light"><code data-language="csharp" data-theme="light"><span class="line"><span style="color: #6A737D">// PointerEventsAdapter.cs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">[</span><span style="color: #6F42C1">TsInterface</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #D73A49">public</span><span style="color: #24292E"> </span><span style="color: #D73A49">class</span><span style="color: #24292E"> </span><span style="color: #6F42C1">PointerEventsAdapter</span><span style="color: #24292E">(IJSRuntime js) : </span><span style="color: #6F42C1">IAsyncDisposable</span></span>
<span class="line"><span style="color: #24292E">{</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6F42C1">IJSObjectReference</span><span style="color: #24292E">? </span><span style="color: #6F42C1">module</span><span style="color: #24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">public</span><span style="color: #24292E"> </span><span style="color: #D73A49">async</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Task</span><span style="color: #24292E"> </span><span style="color: #6F42C1">AddForHandlerAsync</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">THandler</span><span style="color: #24292E">>(</span><span style="color: #6F42C1">DotNetObjectReference</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">THandler</span><span style="color: #24292E">> </span><span style="color: #6F42C1">handlerReference</span><span style="color: #24292E">, [</span><span style="color: #6F42C1">TsIgnore</span><span style="color: #24292E">] </span><span style="color: #6F42C1">CancellationToken</span><span style="color: #24292E"> </span><span style="color: #6F42C1">cancellationToken</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">where</span><span style="color: #24292E"> </span><span style="color: #6F42C1">THandler</span><span style="color: #24292E"> : </span><span style="color: #D73A49">class</span><span style="color: #24292E">, </span><span style="color: #6F42C1">IPointerEventsAdapterHandler</span></span>
<span class="line"><span style="color: #24292E">    {</span></span>
<span class="line"><span style="color: #24292E">        module </span><span style="color: #D73A49">??=</span><span style="color: #24292E"> </span><span style="color: #D73A49">await</span><span style="color: #24292E"> </span><span style="color: #6F42C1">ImportModule</span><span style="color: #24292E">(cancellationToken);</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">await</span><span style="color: #24292E"> module.</span><span style="color: #6F42C1">InvokeVoidAsync</span><span style="color: #24292E">(</span><span style="color: #032F62">"default.addForHandlerAsync"</span><span style="color: #24292E">, cancellationToken, [handlerReference]);</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    [</span><span style="color: #6F42C1">TsIgnore</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">async</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Task</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">IJSObjectReference</span><span style="color: #24292E">> </span><span style="color: #6F42C1">ImportModule</span><span style="color: #24292E">(</span><span style="color: #6F42C1">CancellationToken</span><span style="color: #24292E"> </span><span style="color: #6F42C1">cancellationToken</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">    {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">await</span><span style="color: #24292E"> js.</span><span style="color: #6F42C1">InvokeAsync</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">IJSObjectReference</span><span style="color: #24292E">>(</span><span style="color: #032F62">"import"</span><span style="color: #24292E">, cancellationToken, </span><span style="color: #032F62">"./js/dist/pointerEventsAdapter.js"</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre><pre data-language="csharp" data-theme="dark"><code data-language="csharp" data-theme="dark"><span class="line"><span style="color: #6A737D">// PointerEventsAdapter.cs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">[</span><span style="color: #B392F0">TsInterface</span><span style="color: #E1E4E8">]</span></span>
<span class="line"><span style="color: #F97583">public</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">class</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">PointerEventsAdapter</span><span style="color: #E1E4E8">(IJSRuntime js) : </span><span style="color: #B392F0">IAsyncDisposable</span></span>
<span class="line"><span style="color: #E1E4E8">{</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">IJSObjectReference</span><span style="color: #E1E4E8">? </span><span style="color: #B392F0">module</span><span style="color: #E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">public</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">async</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Task</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">AddForHandlerAsync</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">THandler</span><span style="color: #E1E4E8">>(</span><span style="color: #B392F0">DotNetObjectReference</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">THandler</span><span style="color: #E1E4E8">> </span><span style="color: #B392F0">handlerReference</span><span style="color: #E1E4E8">, [</span><span style="color: #B392F0">TsIgnore</span><span style="color: #E1E4E8">] </span><span style="color: #B392F0">CancellationToken</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">cancellationToken</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">where</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">THandler</span><span style="color: #E1E4E8"> : </span><span style="color: #F97583">class</span><span style="color: #E1E4E8">, </span><span style="color: #B392F0">IPointerEventsAdapterHandler</span></span>
<span class="line"><span style="color: #E1E4E8">    {</span></span>
<span class="line"><span style="color: #E1E4E8">        module </span><span style="color: #F97583">??=</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">await</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">ImportModule</span><span style="color: #E1E4E8">(cancellationToken);</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">await</span><span style="color: #E1E4E8"> module.</span><span style="color: #B392F0">InvokeVoidAsync</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"default.addForHandlerAsync"</span><span style="color: #E1E4E8">, cancellationToken, [handlerReference]);</span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">    [</span><span style="color: #B392F0">TsIgnore</span><span style="color: #E1E4E8">]</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">async</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Task</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">IJSObjectReference</span><span style="color: #E1E4E8">> </span><span style="color: #B392F0">ImportModule</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">CancellationToken</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">cancellationToken</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">    {</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">return</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">await</span><span style="color: #E1E4E8"> js.</span><span style="color: #B392F0">InvokeAsync</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">IJSObjectReference</span><span style="color: #E1E4E8">>(</span><span style="color: #9ECBFF">"import"</span><span style="color: #E1E4E8">, cancellationToken, </span><span style="color: #9ECBFF">"./js/dist/pointerEventsAdapter.js"</span><span style="color: #E1E4E8">);</span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span></code></pre></div>
<p>Instead of requiring the passed <code>DotNetObjectReference</code> handle to strictly refer to a <code>Home</code> component object, we use a generic parameter <code>THandler</code> with an interface constraint. This way any class implementing the <code>IPointerEventsAdapterHandler</code> interface can be used to instantiate compatible C# handler objects. So let's also create the <code>IPointerEventsAdapterHandler</code> interface and make the <code>Home</code> component implement it:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="csharp" data-theme="light"><code data-language="csharp" data-theme="light"><span class="line"><span style="color: #6A737D">// IPointerEventsAdapterHandler.cs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">[</span><span style="color: #6F42C1">TsInterface</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #D73A49">public</span><span style="color: #24292E"> </span><span style="color: #D73A49">interface</span><span style="color: #24292E"> </span><span style="color: #6F42C1">IPointerEventsAdapterHandler</span></span>
<span class="line"><span style="color: #24292E">{</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6F42C1">Task</span><span style="color: #24292E"> </span><span style="color: #6F42C1">HandleClickAtAsync</span><span style="color: #24292E">(</span><span style="color: #D73A49">int</span><span style="color: #24292E"> </span><span style="color: #6F42C1">x</span><span style="color: #24292E">, </span><span style="color: #D73A49">int</span><span style="color: #24292E"> </span><span style="color: #6F42C1">y</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre><pre data-language="csharp" data-theme="dark"><code data-language="csharp" data-theme="dark"><span class="line"><span style="color: #6A737D">// IPointerEventsAdapterHandler.cs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">[</span><span style="color: #B392F0">TsInterface</span><span style="color: #E1E4E8">]</span></span>
<span class="line"><span style="color: #F97583">public</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">interface</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">IPointerEventsAdapterHandler</span></span>
<span class="line"><span style="color: #E1E4E8">{</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">Task</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">HandleClickAtAsync</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">int</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">x</span><span style="color: #E1E4E8">, </span><span style="color: #F97583">int</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">y</span><span style="color: #E1E4E8">);</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment=""><pre data-language="razor" data-theme="light"><code data-language="razor" data-theme="light"><span class="line"><span style="color: #6A737D">&#x3C;!-- Home.razor --></span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">@implements</span><span style="color: #24292E"> </span><span style="color: #6F42C1">IPointerEventsAdapterHandler</span></span>
<span class="line"><span style="color: #D73A49">@inject</span><span style="color: #24292E"> </span><span style="color: #6F42C1">PointerEventsAdapter</span><span style="color: #24292E"> </span><span style="color: #6F42C1">PointerEvents</span></span></code></pre><pre data-language="razor" data-theme="dark"><code data-language="razor" data-theme="dark"><span class="line"><span style="color: #6A737D">&#x3C;!-- Home.razor --></span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">@implements</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">IPointerEventsAdapterHandler</span></span>
<span class="line"><span style="color: #F97583">@inject</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">PointerEventsAdapter</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">PointerEvents</span></span></code></pre></div>
<p>Note that the <code>HandleClickAtAsync</code> signature can't have a <code>CancellationToken</code> parameter because, in this case, invocations originate from TypeScript and the concept of <code>CancellationToken</code> doesn't exist there.</p>
<p>While we're at it, let's register the <code>PointerEventsAdapter</code> class as a scoped service in the <code>Program.cs</code> file:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="csharp" data-theme="light"><code data-language="csharp" data-theme="light"><span class="line"><span style="color: #6A737D">// Program.cs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">builder.Services.</span><span style="color: #6F42C1">AddScoped</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">PointerEventsAdapter</span><span style="color: #24292E">>();</span></span></code></pre><pre data-language="csharp" data-theme="dark"><code data-language="csharp" data-theme="dark"><span class="line"><span style="color: #6A737D">// Program.cs</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">builder.Services.</span><span style="color: #B392F0">AddScoped</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">PointerEventsAdapter</span><span style="color: #E1E4E8">>();</span></span></code></pre></div>
<p>Now, when the C# project is built, new auto-generated types will get added the <code>typings.ts</code> file:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="typescript" data-theme="light"><code data-language="typescript" data-theme="light"><span class="line"><span style="color: #D73A49">export</span><span style="color: #24292E"> </span><span style="color: #D73A49">interface</span><span style="color: #24292E"> </span><span style="color: #6F42C1">IPointerEventsAdapterHandler</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">  </span><span style="color: #6F42C1">handleClickAtAsync</span><span style="color: #24292E">(</span><span style="color: #E36209">x</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #005CC5">number</span><span style="color: #24292E">, </span><span style="color: #E36209">y</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #005CC5">number</span><span style="color: #24292E">)</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Promise</span><span style="color: #24292E">&#x3C;</span><span style="color: #005CC5">void</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"><span style="color: #D73A49">export</span><span style="color: #24292E"> </span><span style="color: #D73A49">interface</span><span style="color: #24292E"> </span><span style="color: #6F42C1">IPointerEventsAdapter</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">  </span><span style="color: #6F42C1">addForHandlerAsync</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">THandler</span><span style="color: #24292E">>(</span><span style="color: #E36209">handlerReference</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">DotNet</span><span style="color: #24292E">.</span><span style="color: #6F42C1">DotNetObject</span><span style="color: #24292E">)</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Promise</span><span style="color: #24292E">&#x3C;</span><span style="color: #005CC5">void</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre><pre data-language="typescript" data-theme="dark"><code data-language="typescript" data-theme="dark"><span class="line"><span style="color: #F97583">export</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">interface</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">IPointerEventsAdapterHandler</span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #B392F0">handleClickAtAsync</span><span style="color: #E1E4E8">(</span><span style="color: #FFAB70">x</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">number</span><span style="color: #E1E4E8">, </span><span style="color: #FFAB70">y</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">number</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Promise</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #79B8FF">void</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span>
<span class="line"><span style="color: #F97583">export</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">interface</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">IPointerEventsAdapter</span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #B392F0">addForHandlerAsync</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">THandler</span><span style="color: #E1E4E8">>(</span><span style="color: #FFAB70">handlerReference</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">DotNet</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">DotNetObject</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Promise</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #79B8FF">void</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span></code></pre></div>
<p>We can now implement the <code>pointerEventsAdapter</code> (TypeScript) handler module, that should export the <code>addForHandlerAsync</code> handler function. A na√Øve implementation of the handler would look like this:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="typescript" data-theme="light"><code data-language="typescript" data-theme="light"><span class="line"><span style="color: #6A737D">// pointerEventsAdapter.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">let</span><span style="color: #24292E"> handlerRef</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">DotNet</span><span style="color: #24292E">.</span><span style="color: #6F42C1">DotNetObject</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">async</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">addForHandlerAsync</span><span style="color: #24292E">(</span><span style="color: #E36209">handlerReference</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">DotNet</span><span style="color: #24292E">.</span><span style="color: #6F42C1">DotNetObject</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">  handlerRef </span><span style="color: #D73A49">=</span><span style="color: #24292E"> handlerReference</span></span>
<span class="line"><span style="color: #24292E">  window.</span><span style="color: #6F42C1">addEventListener</span><span style="color: #24292E">(</span><span style="color: #032F62">"click"</span><span style="color: #24292E">, </span><span style="color: #E36209">ev</span><span style="color: #24292E"> </span><span style="color: #D73A49">=></span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">    handlerRef.</span><span style="color: #6F42C1">invokeMethodAsync</span><span style="color: #24292E">(</span><span style="color: #032F62">"HandleClickAtAsync"</span><span style="color: #24292E">, ev.x, ev.y)</span></span>
<span class="line"><span style="color: #24292E">  })</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">export</span><span style="color: #24292E"> </span><span style="color: #D73A49">default</span><span style="color: #24292E"> { addForHandlerAsync } </span><span style="color: #D73A49">as</span><span style="color: #24292E"> </span><span style="color: #6F42C1">IPointerEventsAdapter</span></span></code></pre><pre data-language="typescript" data-theme="dark"><code data-language="typescript" data-theme="dark"><span class="line"><span style="color: #6A737D">// pointerEventsAdapter.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">let</span><span style="color: #E1E4E8"> handlerRef</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">DotNet</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">DotNetObject</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">async</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">function</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">addForHandlerAsync</span><span style="color: #E1E4E8">(</span><span style="color: #FFAB70">handlerReference</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">DotNet</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">DotNetObject</span><span style="color: #E1E4E8">) {</span></span>
<span class="line"><span style="color: #E1E4E8">  handlerRef </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> handlerReference</span></span>
<span class="line"><span style="color: #E1E4E8">  window.</span><span style="color: #B392F0">addEventListener</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"click"</span><span style="color: #E1E4E8">, </span><span style="color: #FFAB70">ev</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=></span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">    handlerRef.</span><span style="color: #B392F0">invokeMethodAsync</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"HandleClickAtAsync"</span><span style="color: #E1E4E8">, ev.x, ev.y)</span></span>
<span class="line"><span style="color: #E1E4E8">  })</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">export</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">default</span><span style="color: #E1E4E8"> { addForHandlerAsync } </span><span style="color: #F97583">as</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">IPointerEventsAdapter</span></span></code></pre></div>
<p>With the na√Øve implementation, the invocation of the <code>HandleClickAtAsync</code> (C#) handler method would not utilize any of our auto-generated interfaces and would be fully dynamically typed. Instead of this, let's create an <code>invokeHandler</code> utility TypeScript function that makes sure that all C# handler method invocations from TypeScript are covered by TypeScript type checking:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="typescript" data-theme="light"><code data-language="typescript" data-theme="light"><span class="line"><span style="color: #6A737D">// utils.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">ExtractParams</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">T</span><span style="color: #24292E">, </span><span style="color: #6F42C1">K</span><span style="color: #24292E"> </span><span style="color: #D73A49">extends</span><span style="color: #24292E"> </span><span style="color: #D73A49">keyof</span><span style="color: #24292E"> </span><span style="color: #6F42C1">T</span><span style="color: #24292E"> </span><span style="color: #D73A49">&#x26;</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E">> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #6F42C1">T</span><span style="color: #24292E">[</span><span style="color: #6F42C1">K</span><span style="color: #24292E">] </span><span style="color: #D73A49">extends</span><span style="color: #24292E"> (</span><span style="color: #D73A49">...</span><span style="color: #E36209">args</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #D73A49">infer</span><span style="color: #24292E"> </span><span style="color: #6F42C1">P</span><span style="color: #24292E">) </span><span style="color: #D73A49">=></span><span style="color: #24292E"> </span><span style="color: #005CC5">any</span><span style="color: #24292E"> </span><span style="color: #D73A49">?</span><span style="color: #24292E"> </span><span style="color: #6F42C1">P</span><span style="color: #24292E"> </span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #005CC5">never</span></span>
<span class="line"><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">ExtractReturn</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">T</span><span style="color: #24292E">, </span><span style="color: #6F42C1">K</span><span style="color: #24292E"> </span><span style="color: #D73A49">extends</span><span style="color: #24292E"> </span><span style="color: #D73A49">keyof</span><span style="color: #24292E"> </span><span style="color: #6F42C1">T</span><span style="color: #24292E"> </span><span style="color: #D73A49">&#x26;</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E">> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #6F42C1">T</span><span style="color: #24292E">[</span><span style="color: #6F42C1">K</span><span style="color: #24292E">] </span><span style="color: #D73A49">extends</span><span style="color: #24292E"> (</span><span style="color: #D73A49">...</span><span style="color: #E36209">args</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #005CC5">any</span><span style="color: #24292E">[]) </span><span style="color: #D73A49">=></span><span style="color: #24292E"> </span><span style="color: #6F42C1">Promise</span><span style="color: #24292E">&#x3C;</span><span style="color: #D73A49">infer</span><span style="color: #24292E"> </span><span style="color: #6F42C1">R</span><span style="color: #24292E">> </span><span style="color: #D73A49">?</span><span style="color: #24292E"> </span><span style="color: #6F42C1">R</span><span style="color: #24292E"> </span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #005CC5">never</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">export</span><span style="color: #24292E"> </span><span style="color: #D73A49">async</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">invokeHandler</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">THandler</span><span style="color: #24292E">>(</span></span>
<span class="line"><span style="color: #24292E">  </span><span style="color: #E36209">handlerRef</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">DotNet</span><span style="color: #24292E">.</span><span style="color: #6F42C1">DotNetObject</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">  </span><span style="color: #E36209">member</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #D73A49">keyof</span><span style="color: #24292E"> </span><span style="color: #6F42C1">THandler</span><span style="color: #24292E"> </span><span style="color: #D73A49">&#x26;</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">  </span><span style="color: #D73A49">...</span><span style="color: #E36209">args</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">ExtractParams</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">THandler</span><span style="color: #24292E">, </span><span style="color: #D73A49">keyof</span><span style="color: #24292E"> </span><span style="color: #6F42C1">THandler</span><span style="color: #24292E"> </span><span style="color: #D73A49">&#x26;</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E">></span></span>
<span class="line"><span style="color: #24292E">)</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Promise</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">ExtractReturn</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">THandler</span><span style="color: #24292E">, </span><span style="color: #D73A49">keyof</span><span style="color: #24292E"> </span><span style="color: #6F42C1">THandler</span><span style="color: #24292E"> </span><span style="color: #D73A49">&#x26;</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E">>> {</span></span>
<span class="line"><span style="color: #24292E">  </span><span style="color: #D73A49">const</span><span style="color: #24292E"> </span><span style="color: #005CC5">methodName</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> member.</span><span style="color: #6F42C1">charAt</span><span style="color: #24292E">(</span><span style="color: #005CC5">0</span><span style="color: #24292E">).</span><span style="color: #6F42C1">toUpperCase</span><span style="color: #24292E">() </span><span style="color: #D73A49">+</span><span style="color: #24292E"> member.</span><span style="color: #6F42C1">slice</span><span style="color: #24292E">(</span><span style="color: #005CC5">1</span><span style="color: #24292E">)</span></span>
<span class="line"><span style="color: #24292E">  </span><span style="color: #D73A49">return</span><span style="color: #24292E"> handlerRef.</span><span style="color: #6F42C1">invokeMethodAsync</span><span style="color: #24292E">(methodName, </span><span style="color: #D73A49">...</span><span style="color: #24292E">args)</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre><pre data-language="typescript" data-theme="dark"><code data-language="typescript" data-theme="dark"><span class="line"><span style="color: #6A737D">// utils.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">type</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">ExtractParams</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">T</span><span style="color: #E1E4E8">, </span><span style="color: #B392F0">K</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">extends</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">keyof</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">T</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">&#x26;</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">string</span><span style="color: #E1E4E8">> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">T</span><span style="color: #E1E4E8">[</span><span style="color: #B392F0">K</span><span style="color: #E1E4E8">] </span><span style="color: #F97583">extends</span><span style="color: #E1E4E8"> (</span><span style="color: #F97583">...</span><span style="color: #FFAB70">args</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">infer</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">P</span><span style="color: #E1E4E8">) </span><span style="color: #F97583">=></span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">any</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">?</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">P</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">never</span></span>
<span class="line"><span style="color: #F97583">type</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">ExtractReturn</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">T</span><span style="color: #E1E4E8">, </span><span style="color: #B392F0">K</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">extends</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">keyof</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">T</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">&#x26;</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">string</span><span style="color: #E1E4E8">> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">T</span><span style="color: #E1E4E8">[</span><span style="color: #B392F0">K</span><span style="color: #E1E4E8">] </span><span style="color: #F97583">extends</span><span style="color: #E1E4E8"> (</span><span style="color: #F97583">...</span><span style="color: #FFAB70">args</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">any</span><span style="color: #E1E4E8">[]) </span><span style="color: #F97583">=></span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Promise</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #F97583">infer</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">R</span><span style="color: #E1E4E8">> </span><span style="color: #F97583">?</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">R</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">never</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">export</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">async</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">function</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">invokeHandler</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">THandler</span><span style="color: #E1E4E8">>(</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #FFAB70">handlerRef</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">DotNet</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">DotNetObject</span><span style="color: #E1E4E8">,</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #FFAB70">member</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">keyof</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">THandler</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">&#x26;</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">string</span><span style="color: #E1E4E8">,</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">...</span><span style="color: #FFAB70">args</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">ExtractParams</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">THandler</span><span style="color: #E1E4E8">, </span><span style="color: #F97583">keyof</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">THandler</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">&#x26;</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">string</span><span style="color: #E1E4E8">></span></span>
<span class="line"><span style="color: #E1E4E8">)</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Promise</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">ExtractReturn</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">THandler</span><span style="color: #E1E4E8">, </span><span style="color: #F97583">keyof</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">THandler</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">&#x26;</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">string</span><span style="color: #E1E4E8">>> {</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">const</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">methodName</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> member.</span><span style="color: #B392F0">charAt</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">0</span><span style="color: #E1E4E8">).</span><span style="color: #B392F0">toUpperCase</span><span style="color: #E1E4E8">() </span><span style="color: #F97583">+</span><span style="color: #E1E4E8"> member.</span><span style="color: #B392F0">slice</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">1</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">return</span><span style="color: #E1E4E8"> handlerRef.</span><span style="color: #B392F0">invokeMethodAsync</span><span style="color: #E1E4E8">(methodName, </span><span style="color: #F97583">...</span><span style="color: #E1E4E8">args)</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span></code></pre></div>
<p>By passing an auto-generated interface as an argument to the generic parameter <code>THandler</code>, <code>invokeHandler</code> makes sure that the C# handler method we are attempting to invoke is one of the members of the interface AND that the passed parameters and the return type match the member's signature üéâ. So our final implementation of the <code>pointerEventsAdapter</code> (TypeScript) handler looks like this:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="typescript" data-theme="light"><code data-language="typescript" data-theme="light"><span class="line"><span style="color: #6A737D">// pointerEventsAdapter.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">let</span><span style="color: #24292E"> handlerRef</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">DotNet</span><span style="color: #24292E">.</span><span style="color: #6F42C1">DotNetObject</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">async</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">addForHandlerAsync</span><span style="color: #24292E">(</span><span style="color: #E36209">handlerReference</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #6F42C1">DotNet</span><span style="color: #24292E">.</span><span style="color: #6F42C1">DotNetObject</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">  handlerRef </span><span style="color: #D73A49">=</span><span style="color: #24292E"> handlerReference</span></span>
<span class="line"><span style="color: #24292E">  window.</span><span style="color: #6F42C1">addEventListener</span><span style="color: #24292E">(</span><span style="color: #032F62">"click"</span><span style="color: #24292E">, </span><span style="color: #E36209">ev</span><span style="color: #24292E"> </span><span style="color: #D73A49">=></span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6F42C1">invokeHandler</span><span style="color: #24292E">&#x3C;</span><span style="color: #6F42C1">IPointerEventsAdapterHandler</span><span style="color: #24292E">>(handlerRef, </span><span style="color: #032F62">"handleClickAtAsync"</span><span style="color: #24292E">, ev.x, ev.y)</span></span>
<span class="line"><span style="color: #24292E">  })</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">export</span><span style="color: #24292E"> </span><span style="color: #D73A49">default</span><span style="color: #24292E"> { addForHandlerAsync } </span><span style="color: #D73A49">as</span><span style="color: #24292E"> </span><span style="color: #6F42C1">IPointerEventsAdapter</span></span></code></pre><pre data-language="typescript" data-theme="dark"><code data-language="typescript" data-theme="dark"><span class="line"><span style="color: #6A737D">// pointerEventsAdapter.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">let</span><span style="color: #E1E4E8"> handlerRef</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">DotNet</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">DotNetObject</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">async</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">function</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">addForHandlerAsync</span><span style="color: #E1E4E8">(</span><span style="color: #FFAB70">handlerReference</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">DotNet</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">DotNetObject</span><span style="color: #E1E4E8">) {</span></span>
<span class="line"><span style="color: #E1E4E8">  handlerRef </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> handlerReference</span></span>
<span class="line"><span style="color: #E1E4E8">  window.</span><span style="color: #B392F0">addEventListener</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"click"</span><span style="color: #E1E4E8">, </span><span style="color: #FFAB70">ev</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=></span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">invokeHandler</span><span style="color: #E1E4E8">&#x3C;</span><span style="color: #B392F0">IPointerEventsAdapterHandler</span><span style="color: #E1E4E8">>(handlerRef, </span><span style="color: #9ECBFF">"handleClickAtAsync"</span><span style="color: #E1E4E8">, ev.x, ev.y)</span></span>
<span class="line"><span style="color: #E1E4E8">  })</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">export</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">default</span><span style="color: #E1E4E8"> { addForHandlerAsync } </span><span style="color: #F97583">as</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">IPointerEventsAdapter</span></span></code></pre></div>
<p>Note that we store the <code>handlerReference</code> argument to the <code>handlerRef</code> variable simply so that other TypeScript handler functions added to the <code>pointerEventsAdapter</code> handler can reuse it. Though, in our example implementation it's not strictly required.</p>
<p>Finally, let's add the <code>pointerEventsAdapter.ts</code> file as a new entry point to <code>vite.config.js</code>, so that Vite will build the <code>pointerEventsAdapter.js</code> module:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="javascript" data-theme="light"><code data-language="javascript" data-theme="light"><span class="line"><span style="color: #6A737D">// vite.config.js</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> { defineConfig } </span><span style="color: #D73A49">from</span><span style="color: #24292E"> </span><span style="color: #032F62">"vite"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D">// https://vitejs.dev/config/</span></span>
<span class="line"><span style="color: #D73A49">export</span><span style="color: #24292E"> </span><span style="color: #D73A49">default</span><span style="color: #24292E"> </span><span style="color: #6F42C1">defineConfig</span><span style="color: #24292E">({</span></span>
<span class="line"><span style="color: #24292E">  build: {</span></span>
<span class="line"><span style="color: #24292E">    emptyOutDir: </span><span style="color: #005CC5">true</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    outDir: </span><span style="color: #032F62">"../../wwwroot/js/dist"</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    lib: {</span></span>
<span class="line"><span style="color: #24292E">      entry: [</span><span style="color: #032F62">"src/browserConsoleAdapter.ts"</span><span style="color: #24292E">, </span><span style="color: #032F62">"src/pointerEventsAdapter.ts"</span><span style="color: #24292E">],</span></span>
<span class="line"><span style="color: #24292E">      formats: [</span><span style="color: #032F62">"es"</span><span style="color: #24292E">]</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">  }</span></span>
<span class="line"><span style="color: #24292E">})</span></span></code></pre><pre data-language="javascript" data-theme="dark"><code data-language="javascript" data-theme="dark"><span class="line"><span style="color: #6A737D">// vite.config.js</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">import</span><span style="color: #E1E4E8"> { defineConfig } </span><span style="color: #F97583">from</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">"vite"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A737D">// https://vitejs.dev/config/</span></span>
<span class="line"><span style="color: #F97583">export</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">default</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">defineConfig</span><span style="color: #E1E4E8">({</span></span>
<span class="line"><span style="color: #E1E4E8">  build: {</span></span>
<span class="line"><span style="color: #E1E4E8">    emptyOutDir: </span><span style="color: #79B8FF">true</span><span style="color: #E1E4E8">,</span></span>
<span class="line"><span style="color: #E1E4E8">    outDir: </span><span style="color: #9ECBFF">"../../wwwroot/js/dist"</span><span style="color: #E1E4E8">,</span></span>
<span class="line"><span style="color: #E1E4E8">    lib: {</span></span>
<span class="line"><span style="color: #E1E4E8">      entry: [</span><span style="color: #9ECBFF">"src/browserConsoleAdapter.ts"</span><span style="color: #E1E4E8">, </span><span style="color: #9ECBFF">"src/pointerEventsAdapter.ts"</span><span style="color: #E1E4E8">],</span></span>
<span class="line"><span style="color: #E1E4E8">      formats: [</span><span style="color: #9ECBFF">"es"</span><span style="color: #E1E4E8">]</span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"><span style="color: #E1E4E8">  }</span></span>
<span class="line"><span style="color: #E1E4E8">})</span></span></code></pre></div>
<p>Now, if we build and launch the Blazor application, we should be able to see new entries appearing to the list shown on the page each time we click somewhere.</p>
<h2 id="evaluation"><a href="#evaluation">Evaluation</a></h2>
<p>The goals we set in the introduction of this article were met relatively well:</p>
<ul>
<li>Type changes in C# are automatically propagated to TypeScript by <code>Reinforced.Typings</code>. ‚úÖ</li>
<li>We fully leverage TypeScript's type checking capabilities and type mismatches are automatically detected as part of the Blazor app's MSBuild process. ‚úÖ</li>
<li>The Vite project gets automatically built whenever it's necessary ‚Äì and doesn't when it's not ‚Äì as part of the Blazor app's MSBuild process. ‚úÖ</li>
<li>JavaScript modules can be re-imported during a Blazor debug session by simply refreshing the page. We can even have Vite watching for changes in files in the Vite project and automatically rebuild the distributables by using the <code>npm watch</code> command. <code>npm watch</code> can run in parallel with a Blazor debug session. ‚úÖ</li>
</ul>
<p>Naturally, the standard limitations of the Blazor JavaScript interop haven't gone anywhere. For example, our TypeScript handlers don't really understand C# object references, except for what limited support <code>DotNet.DotNetObject</code> handles provide. All communication still uses simple JSON serialization.</p>
<p>Also, the caveats of TypeScript duck-typing apply. As an example, if we removed the <code>message</code> parameter of the <code>logAsync</code> function from the <code>browserConsoleAdapter</code> (TypeScript) module, <code>logAsync</code> would still be compliant with the auto-generated <code>IBrowserConsoleAdapter</code> (TypeScript) interface, thanks to duck-typing. But, on the other hand, changing the <code>message</code> parameter's type or adding more parameters to the <code>logAsync</code> function, when not implementing corresponding changes to the <code>BrowserConsoleAdapter</code> (C#) class, would be caught.</p></div></div></article></div></div></main><script src="/_next/static/chunks/webpack-b2aba447c1dc2205.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/3d9ea938b6afa941-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/7eaa4a2482b4df1a-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/css/488301a2e2aae266.css\",{\"as\":\"style\"}]\n0:\"$L4\"\n"])</script><script>self.__next_f.push([1,"5:HL[\"/_next/static/css/301e7291452e98cd.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"6:I{\"id\":7948,\"chunks\":[\"272:static/chunks/webpack-b2aba447c1dc2205.js\",\"971:static/chunks/fd9d1056-a99b58d3cc150217.js\",\"596:static/chunks/596-9d43875837bd0b65.js\"],\"name\":\"default\",\"async\":false}\n8:I{\"id\":6628,\"chunks\":[\"272:static/chunks/webpack-b2aba447c1dc2205.js\",\"971:static/chunks/fd9d1056-a99b58d3cc150217.js\",\"596:static/chunks/596-9d43875837bd0b65.js\"],\"name\":\"\",\"async\":false}\n9:I{\"id\":6685,\"chunks\":[\"685:static/chunks/685-a8c11ad368fada34.js\",\"185:static/chunks/app/layout-0afbb0e01943be7f.js\"],\"na"])</script><script>self.__next_f.push([1,"me\":\"\",\"async\":false}\na:I{\"id\":7767,\"chunks\":[\"272:static/chunks/webpack-b2aba447c1dc2205.js\",\"971:static/chunks/fd9d1056-a99b58d3cc150217.js\",\"596:static/chunks/596-9d43875837bd0b65.js\"],\"name\":\"default\",\"async\":false}\nb:I{\"id\":7920,\"chunks\":[\"272:static/chunks/webpack-b2aba447c1dc2205.js\",\"971:static/chunks/fd9d1056-a99b58d3cc150217.js\",\"596:static/chunks/596-9d43875837bd0b65.js\"],\"name\":\"default\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"4:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/488301a2e2aae266.css\",\"precedence\":\"next\"}]],[\"$\",\"$L6\",null,{\"buildId\":\"PsZqLCFMFDR2tkN75POzO\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/2025/03/09/Blazor-with-TypeScript-Interop\",\"initialTree\":[\"\",{\"children\":[[\"id\",\"2025/03/09/Blazor-with-TypeScript-Interop\",\"c\"],{\"children\":[\"__PAGE__?{\\\"id\\\":[\\\"2025\\\",\\\"03\\\",\\\"09\\\",\\\"Blazor-with-TypeScript-Interop\\\"]}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L7\"],\"globalErrorComponent\":\"$8\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"__variable_965427 __variable_9c011f\",\"children\":[\"$\",\"body\",null,{\"className\":\"bg-slate-200 dark:bg-slate-700\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"w-full flex flex-row justify-between bg-indigo-600 shadow-indigo-300 dark:shadow-indigo-800 shadow-2xl font-sans\",\"children\":[\"$\",\"div\",null,{\"className\":\"p-2\",\"children\":[\"$\",\"$L9\",null,{\"className\":\"text-2xl font-semibold text-neutral-100 dark:text-neutral-200\",\"href\":\"/\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"inline\",\"children\":\"üçî food for ai\"}],\" \",[\"$\",\"span\",null,{\"className\":\"font-mono font-light text-xs\",\"children\":\"food.joona.cloud\"}]]}]}]}],[\"$\",\"main\",null,{\"className\":\"mt-4\",\"children\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",[\"id\",\"2025/03/09/Blazor-with-TypeScript-Interop\",\"c\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lc\",\"$Ld\",null],\"segment\":\"__PAGE__?{\\\"id\\\":[\\\"2025\\\",\\\"03\\\",\\\"09\\\",\\\"Blazor-with-TypeScript-Interop\\\"]}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/301e7291452e98cd.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"id\",\"2025/03/09/Blazor-with-TypeScript-Interop\",\"c\"]},\"styles\":[]}]}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"e:T28245,"])</script><script>self.__next_f.push([1,"\u003cp\u003eBlazor has had support for JavaScript interop since \u003ca href=\"https://learn.microsoft.com/en-us/aspnet/core/blazor/javascript-interoperability/?view=aspnetcore-3.1\"\u003eday one\u003c/a\u003e. It's fine and all, but it is still JavaScript and inherently dynamically typed. In this article, we have a look on one approach that allows us to use TypeScript instead. We use Vite to build distributable JavaScript modules from our TypeScript modules. In addition to having our types strong, we'd like to achieve some other quality-of-life improvements as well:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe propagation of changes should be seamless between C#'s and TypeScript's type systems.\u003c/li\u003e\n\u003cli\u003eTS type checking should be automatic whenever types change.\u003c/li\u003e\n\u003cli\u003eVite should build automatically whenever the Blazor app is built...\u003c/li\u003e\n\u003cli\u003e..but Vite should \u003cstrong\u003eNOT\u003c/strong\u003e build in case there are no relevant changes.\u003c/li\u003e\n\u003cli\u003eThe distributables built by Vite should be reloadable while the Blazor app is running by refreshing the page, not requiring a full restart. Hot-reload could be tricky, so let's not include that to our scope.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIn this article we'll use Blazor WASM, but the approach works with Interactive Server as well.\u003c/p\u003e\n\u003ch2 id=\"the-approach\"\u003e\u003ca href=\"#the-approach\"\u003eThe approach\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eIdeally we'd like to have \u003cem\u003eadapters\u003c/em\u003e that we'd be able to invoke in our C# code, for example:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"razor\" data-theme=\"light\"\u003e\u003ccode data-language=\"razor\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e\u0026#x3C;!-- Home.razor --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003e@inject\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eBrowserConsoleAdapter\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eBrowserConsole\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003ebutton\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eonclick\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e@(()\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B31D28; font-style: italic\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e BrowserConsole.LogAsync(\"Greetings!\"))\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    Log greetings to browser console\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003ebutton\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"razor\" data-theme=\"dark\"\u003e\u003ccode data-language=\"razor\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e\u0026#x3C;!-- Home.razor --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003e@inject\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eBrowserConsoleAdapter\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eBrowserConsole\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003ebutton\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eonclick\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e@(()\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #FDAEB7; font-style: italic\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e BrowserConsole.LogAsync(\"Greetings!\"))\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    Log greetings to browser console\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003ebutton\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThe \u003ccode\u003eBrowserConsoleAdapter\u003c/code\u003e class should be \u003cem\u003esomehow\u003c/em\u003e mapped to a TypeScript module that would have a corresponding function to the \u003ccode\u003eLogAsync\u003c/code\u003e method:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"typescript\" data-theme=\"light\"\u003e\u003ccode data-language=\"typescript\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// browserConsoleAdapter.ts\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003elogAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  console.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003elog\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(message)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003edefault\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e { logAsync } \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eas\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIBrowserConsoleAdapter\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"typescript\" data-theme=\"dark\"\u003e\u003ccode data-language=\"typescript\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// browserConsoleAdapter.ts\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003elogAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  console.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003elog\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(message)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003edefault\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e { logAsync } \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eas\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIBrowserConsoleAdapter\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIf the signature of the \u003ccode\u003eLogAsync\u003c/code\u003e method changes, or methods are added to or removed from the \u003ccode\u003eBrowserConsoleAdapter\u003c/code\u003e class, then, when building the Blazor application, we'd get a build time error from TypeScript's type checking.\u003c/p\u003e\n\u003cp\u003eIn the scenario above, click events originate from the \u003ccode\u003ebutton\u003c/code\u003e Blazor component and its \u003ccode\u003eonclick\u003c/code\u003e callback method simply invokes the \u003ccode\u003elogAsync\u003c/code\u003e TypeScript function over interop. But what if we'd also like to do the opposite: have an event listener instantiated in TypeScript which would invoke a C# handler method over interop? Let's say we'd like to listen for all click events and send information about their positions to a C# handler method \u003ccode\u003eHandleClickAtAsync\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"razor\" data-theme=\"light\"\u003e\u003ccode data-language=\"razor\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e\u0026#x3C;!-- Home.razor --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eol\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e@foreach\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003evar\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ex\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ey\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e) \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ein\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e clickPositions)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eli\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003eClicked at \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e@\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003ex, \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e@\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003ey.\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eli\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eol\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003e@code\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eList\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;(\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eX\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eY\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eclickPositions\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e [];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    [\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eJSInvokable\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eHandleClickAtAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ex\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ey\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        clickPositions.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eAdd\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e((x, y));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eStateHasChanged\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e Task.CompletedTask;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"razor\" data-theme=\"dark\"\u003e\u003ccode data-language=\"razor\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e\u0026#x3C;!-- Home.razor --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eol\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e@foreach\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003evar\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ex\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ey\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e) \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ein\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e clickPositions)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eli\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003eClicked at \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e@\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003ex, \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e@\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003ey.\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eli\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eol\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003e@code\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eList\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;(\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eX\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eY\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eclickPositions\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e [];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    [\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eJSInvokable\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eHandleClickAtAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ex\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ey\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        clickPositions.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eAdd\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e((x, y));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eStateHasChanged\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e Task.CompletedTask;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWe'd want to be able to register a TypeScript event listener that would invoke this method on click events. The invocation should still be strongly typed, so if the signature of the \u003ccode\u003eHandleClickAtAsync\u003c/code\u003e method changes, we'd like to see any type check errors at build time.\u003c/p\u003e\n\u003ch2 id=\"reinforcedtypings\"\u003e\u003ca href=\"#reinforcedtypings\"\u003e\u003ccode\u003eReinforced.Typings\u003c/code\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eThere is an awesome .NET library for our type auto-generation needs: \u003ca href=\"https://github.com/reinforced/Reinforced.Typings\"\u003e\u003ccode\u003eReinforced.Typings\u003c/code\u003e\u003c/a\u003e. It allows us to have our C# types to be automatically turned into TypeScript types at build time by simply annotating the C# types with attributes like \u003ccode\u003eTsInterfaceAttribute\u003c/code\u003e, which specifically generates a TypeScript interface.\u003c/p\u003e\n\u003cp\u003eA skeleton of the \u003ccode\u003eBrowserConsoleAdapter\u003c/code\u003e class annotated with \u003ccode\u003eReinforced.Typings\u003c/code\u003e attributes would look like this:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"csharp\" data-theme=\"light\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// BrowserConsoleAdapter.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e[\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTsInterface\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eBrowserConsoleAdapter\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eLogAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ethrow\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eNotImplementedException\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"csharp\" data-theme=\"dark\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// BrowserConsoleAdapter.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e[\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTsInterface\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eBrowserConsoleAdapter\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eLogAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ethrow\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eNotImplementedException\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIn order to make the TypeScript type generation match our specific needs, we add the following three files to our C# project:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eReinforced.Typings.Assembly.cs\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eReinforcedTypingsConfiguration.cs\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eReinforced.Typings.settings.xml\u003c/code\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"reinforcedtypingsassemblycs\"\u003e\u003ca href=\"#reinforcedtypingsassemblycs\"\u003e\u003ccode\u003eReinforced.Typings.Assembly.cs\u003c/code\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eIn this file we have just an assembly marker, which sets some necessary and nice-to-have preferences. We don't necessarily need an entire dedicated file for this, but I still added one for code organization purposes:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"csharp\" data-theme=\"light\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// Reinforced.Typings.Assembly.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e[\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eassembly\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eReinforced\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTypings\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eAttributes\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTsGlobal\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eUseModules\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDiscardNamespacesWhenUsingModules\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTabSymbol\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"    \"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eCamelCaseForMethods\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eCamelCaseForProperties\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003etrue\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e)]\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"csharp\" data-theme=\"dark\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// Reinforced.Typings.Assembly.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e[\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eassembly\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e: \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eReinforced\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTypings\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eAttributes\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTsGlobal\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eUseModules\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDiscardNamespacesWhenUsingModules\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTabSymbol\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"    \"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eCamelCaseForMethods\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eCamelCaseForProperties\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003etrue\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)]\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003ccode\u003eUseModules = true\u003c/code\u003e makes the auto-generated TypeScript interfaces to be exported from a module and thus importable to our TypeScript handler implementations. \u003ccode\u003eDiscardNamespacesWhenUsingModules = true\u003c/code\u003e omits generating the interfaces inside TypeScript namespaces. \u003ccode\u003eTabSymbol = \"    \"\u003c/code\u003e makes the auto-generated code use four tabs for indentation (adjust this as needed). \u003ccode\u003eCamelCaseForMethods = true\u003c/code\u003e and \u003ccode\u003eCamelCaseForProperties = true\u003c/code\u003e do exactly as they state: make auto-generated method and property names use camel casing instead of C# style pascal casing. Note that \u003ccode\u003eCamelCaseForProperties = true\u003c/code\u003e affects both parameter and return types (in case complex types are used).\u003c/p\u003e\n\u003ch3 id=\"reinforcedtypingsconfigurationcs\"\u003e\u003ca href=\"#reinforcedtypingsconfigurationcs\"\u003e\u003ccode\u003eReinforcedTypingsConfiguration.cs\u003c/code\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eIn this file we set up a \u003ccode\u003eReinforcedTypingsConfiguration\u003c/code\u003e class that is used for fine-tuning the default type generation logic:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"csharp\" data-theme=\"light\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// ReinforcedTypingsConfiguration.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003estatic\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eReinforcedTypingsConfiguration\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003estatic\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003evoid\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eConfigure\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eReinforced\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTypings\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eFluent\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eConfigurationBuilder\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ebuilder\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        builder.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eSubstitute\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003etypeof\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e), \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eRtSimpleTypeName\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"Promise\u0026#x3C;void\u003e\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        builder.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eSubstitute\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003etypeof\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003e), \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eRtSimpleTypeName\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"Promise\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        builder.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eSubstitute\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003etypeof\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIJSObjectReference\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e), \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eRtSimpleTypeName\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"Promise\u0026#x3C;any\u003e\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        builder.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eSubstituteGeneric\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003etypeof\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNetObjectReference\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003e), (\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003e_\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003e_\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e) \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eRtSimpleTypeName\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"DotNet.DotNetObject\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"csharp\" data-theme=\"dark\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// ReinforcedTypingsConfiguration.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003estatic\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eReinforcedTypingsConfiguration\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003estatic\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003evoid\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eConfigure\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eReinforced\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTypings\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eFluent\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eConfigurationBuilder\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ebuilder\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        builder.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eSubstitute\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003etypeof\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e), \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eRtSimpleTypeName\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"Promise\u0026#x3C;void\u003e\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        builder.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eSubstitute\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003etypeof\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003e), \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eRtSimpleTypeName\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"Promise\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        builder.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eSubstitute\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003etypeof\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIJSObjectReference\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e), \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eRtSimpleTypeName\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"Promise\u0026#x3C;any\u003e\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        builder.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eSubstituteGeneric\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003etypeof\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNetObjectReference\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003e), (\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003e_\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003e_\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e) \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003enew\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eRtSimpleTypeName\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"DotNet.DotNetObject\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eFirst we set up type substitution between generic and non-generic \u003ccode\u003eTask\u003c/code\u003es (C#) and \u003ccode\u003ePromise\u003c/code\u003es (TypeScript), which is not set by default.\u003c/p\u003e\n\u003cp\u003eWe also set type substitution specifically from \u003ccode\u003eTask\u0026#x3C;IJSObjectReference\u003e\u003c/code\u003e (C#) to \u003ccode\u003ePromise\u0026#x3C;any\u003e\u003c/code\u003e (TypeScript). This is needed when a TypeScript handler returns a reference to a JavaScript object and we'd like to have access to that in a C# invoker.\u003c/p\u003e\n\u003cp\u003eFinally, we set up substitution from the generic \u003ccode\u003eDotNetObjectReference\u003c/code\u003e (C#) to the non-generic \u003ccode\u003eDotNet.DotNetObject\u003c/code\u003e (TypeScript). This is needed when we want to pass a reference ‚Äì or really a handle ‚Äì of a .NET object to a TypeScript handler, for example, when we want TypeScript to invoke some method of that .NET object. This type substitution instructs \u003ccode\u003eReinforced.Typings\u003c/code\u003e to essentially not generate any corresponding TypeScript types for the C# types of the objects we want to pass as arguments. As is, this would reduce the type safety of our approach, because breaking changes to the signatures of the C# handler methods would not make TypeScript type checking fail. We'll need to address this later.\u003c/p\u003e\n\u003cp\u003eThe \u003ccode\u003eDotNet.DotNetObject\u003c/code\u003e (TypeScript) type is exported by the \u003ca href=\"https://www.npmjs.com/package/@types/blazor__javascript-interop\"\u003e\u003ccode\u003e@types/blazor__javascript-interop\u003c/code\u003e\u003c/a\u003e package. It is used in the Vite project to provide corresponding TypeScript types of Blazor's built-in object reference types.\u003c/p\u003e\n\u003ch3 id=\"reinforcedtypingssettingsxml\"\u003e\u003ca href=\"#reinforcedtypingssettingsxml\"\u003e\u003ccode\u003eReinforced.Typings.settings.xml\u003c/code\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eThis file contains a piece of MSBuild script that is imported to the C# project file each time the project is built:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"xml\" data-theme=\"light\"\u003e\u003ccode data-language=\"xml\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e\u0026#x3C;!-- Reinforced.Typings.settings.xml --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;?\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003exml\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003e version\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"1.0\"\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003e encoding\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"utf-8\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e?\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eProject\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eToolsVersion\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"4.0\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDefaultTargets\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"Build\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003exmlns\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"http://schemas.microsoft.com/developer/msbuild/2003\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eRtTargetFile\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e            $(ProjectDir)Adapters\\blazortsinteropexample\\src\\typings.ts\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eRtTargetFile\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eRtConfigurationMethod\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e            BlazorTsInteropExample.Stuff.ReinforcedTypings.ReinforcedTypingsConfiguration.Configure\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eRtConfigurationMethod\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eProject\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"xml\" data-theme=\"dark\"\u003e\u003ccode data-language=\"xml\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e\u0026#x3C;!-- Reinforced.Typings.settings.xml --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;?\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003exml\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003e version\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"1.0\"\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003e encoding\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"utf-8\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e?\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eProject\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eToolsVersion\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"4.0\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDefaultTargets\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"Build\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003exmlns\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"http://schemas.microsoft.com/developer/msbuild/2003\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eRtTargetFile\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e            $(ProjectDir)Adapters\\blazortsinteropexample\\src\\typings.ts\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eRtTargetFile\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eRtConfigurationMethod\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e            BlazorTsInteropExample.Stuff.ReinforcedTypings.ReinforcedTypingsConfiguration.Configure\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eRtConfigurationMethod\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eProject\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWith the \u003ccode\u003eRtTargetFile\u003c/code\u003e property, we instruct \u003ccode\u003eReinforced.Typings\u003c/code\u003e to generate the types to the \u003ccode\u003etypings.ts\u003c/code\u003e file inside the \u003ccode\u003eblazortsinteropexample\u003c/code\u003e Vite project that contains our TypeScript code. We also instruct \u003ccode\u003eReinforced.Typings\u003c/code\u003e to use the static \u003ccode\u003eConfigure\u003c/code\u003e method of the \u003ccode\u003eReinforcedTypingsConfiguration\u003c/code\u003e class we just implemented.\u003c/p\u003e\n\u003ch2 id=\"wiring-the-up-the-c-project\"\u003e\u003ca href=\"#wiring-the-up-the-c-project\"\u003eWiring the up the C# project\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eBefore creating the \u003ccode\u003eblazortsinteropexample\u003c/code\u003e Vite project, let's set up our C# project in such a way that the type auto-generation and building the Vite project are part of the incremental MSBuild build process:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"xml\" data-theme=\"light\"\u003e\u003ccode data-language=\"xml\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e\u0026#x3C;!-- BlazorTsInteropExample.csproj --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eProject\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eSdk\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"Microsoft.NET.Sdk.BlazorWebAssembly\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eRtSettingsXml\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        $([MSBuild]::EnsureTrailingSlash($(MSBuildProjectDirectory)))Stuff/ReinforcedTypings/Reinforced.Typings.settings.xml\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eRtSettingsXml\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eItemGroup\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eFolder\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eInclude\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"wwwroot\\js\\\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eItemGroup\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eTarget\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eName\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"CompileTypeScript\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eTarget\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eProjectDirWithTrailing\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        $([MSBuild]::EnsureTrailingSlash($(MSBuildProjectDirectory)))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eProjectDirWithTrailing\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eTarget\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eName\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"RunNpmBuild\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eBeforeTargets\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"Build\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eExec\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eCommand\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"pwsh -File $(ProjectDirWithTrailing)Build/build_library.ps1 $(ProjectDirWithTrailing)\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eTarget\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eProject\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"xml\" data-theme=\"dark\"\u003e\u003ccode data-language=\"xml\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e\u0026#x3C;!-- BlazorTsInteropExample.csproj --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eProject\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eSdk\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"Microsoft.NET.Sdk.BlazorWebAssembly\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eRtSettingsXml\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        $([MSBuild]::EnsureTrailingSlash($(MSBuildProjectDirectory)))Stuff/ReinforcedTypings/Reinforced.Typings.settings.xml\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eRtSettingsXml\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eItemGroup\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eFolder\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eInclude\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"wwwroot\\js\\\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eItemGroup\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eTarget\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eName\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"CompileTypeScript\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eTarget\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eProjectDirWithTrailing\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        $([MSBuild]::EnsureTrailingSlash($(MSBuildProjectDirectory)))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eProjectDirWithTrailing\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003ePropertyGroup\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eTarget\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eName\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"RunNpmBuild\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eBeforeTargets\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"Build\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eExec\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eCommand\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"pwsh -File $(ProjectDirWithTrailing)Build/build_library.ps1 $(ProjectDirWithTrailing)\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eTarget\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eProject\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eFirst, we set a value for the \u003ccode\u003eRtSettingsXml\u003c/code\u003e property, so that \u003ccode\u003eReinforced.Typings\u003c/code\u003e knows where to look for its settings at build time. We make sure that there are no extra slashes (or missing slashes) in the settings file's path by using the MSBuild utility function \u003ccode\u003eEnsureTrailingSlash\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eWe then explicitly include the \u003ccode\u003ewwwroot\\js\\\u003c/code\u003e folder to the project, so that the JavaScript distributables that that folder will contain would be part of the .NET publish.\u003c/p\u003e\n\u003cp\u003eWe also replace the \u003ccode\u003eCompileTypeScript\u003c/code\u003e default MSBuild target with an empty one, so that MSBuild would not attempt to build the TypeScript files inside the Vite project as part of the build process.\u003c/p\u003e\n\u003cp\u003eFinally, we create a new MSBuild target called \u003ccode\u003eRunNpmBuild\u003c/code\u003e. This target runs the \u003ccode\u003ebuild_library.ps1\u003c/code\u003e script file using \u003ccode\u003epwsh\u003c/code\u003e for cross-platform compatibility. \u003ccode\u003ebuild_library.ps1\u003c/code\u003e is responsible for the incremental build of the Vite project. So before the C# project is built, we want to check if the Vite project needs to be built as well, attempt to build it and finally have the JavaScript distributables to be put under the \u003ccode\u003ewwwroot\\js\\\u003c/code\u003e folder:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"powershell\" data-theme=\"light\"\u003e\u003ccode data-language=\"powershell\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e# build_library.ps1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eparam\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    [\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e]$projectDirWithTrailing\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e$librarySourceDir \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e $projectDirWithTrailing \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e+\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e'Adapters/blazortsinteropexample'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e$npmBuildOutDir \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e $projectDirWithTrailing \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e+\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e'wwwroot/js'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e$npmBuildOutDirExists \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003eTest-Path\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003ePath $npmBuildOutDir\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e$npmBuildOutDirIsEmpty \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eif\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e ($npmBuildOutDirExists) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    (\u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003eGet-ChildItem\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003ePath $npmBuildOutDir \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003eRecurse).Count \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-eq\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003e0\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e} \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eelse\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003e$true\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eif\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e ($npmBuildOutDirIsEmpty) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003eWrite-Host\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e'NpmBuildOutDir is empty. Running npm install...'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    cd $librarySourceDir\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    npm install\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003eWrite-Host\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e'Building the library...'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    npm run build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e} \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eelse\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    $dateA \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003eGet-ChildItem\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003eLiteralPath $librarySourceDir \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003eFile \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003eRecurse \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e|\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003eWhere-Object\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e { \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003e$_\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e.FullName \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-notlike\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e'*\\node_modules\\*'\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-and\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003e$_\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e.Name \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-ne\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e'typings.ts'\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e } \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e|\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003eSort-Object\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e LastWriteTime \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003eDescending \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e|\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003eSelect-Object\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003eFirst \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003e1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    ).LastWriteTime\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    $dateB \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003eGet-ChildItem\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003eLiteralPath $npmBuildOutDir \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003eFile \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003eRecurse \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e|\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003eSort-Object\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e LastWriteTime \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003eDescending \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e|\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003eSelect-Object\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003eFirst \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003e1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    ).LastWriteTime\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eif\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e ($dateA \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e-gt\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e $dateB) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003eWrite-Host\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e'Library source files are newer than dist. Building the library...'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        cd $librarySourceDir\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        npm run build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"powershell\" data-theme=\"dark\"\u003e\u003ccode data-language=\"powershell\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e# build_library.ps1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eparam\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    [\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e]$projectDirWithTrailing\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e$librarySourceDir \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e $projectDirWithTrailing \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e+\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e'Adapters/blazortsinteropexample'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e$npmBuildOutDir \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e $projectDirWithTrailing \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e+\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e'wwwroot/js'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e$npmBuildOutDirExists \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003eTest-Path\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003ePath $npmBuildOutDir\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e$npmBuildOutDirIsEmpty \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eif\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e ($npmBuildOutDirExists) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    (\u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003eGet-ChildItem\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003ePath $npmBuildOutDir \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003eRecurse).Count \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-eq\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003e0\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e} \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eelse\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003e$true\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eif\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e ($npmBuildOutDirIsEmpty) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003eWrite-Host\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e'NpmBuildOutDir is empty. Running npm install...'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    cd $librarySourceDir\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    npm install\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003eWrite-Host\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e'Building the library...'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    npm run build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e} \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eelse\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    $dateA \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003eGet-ChildItem\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003eLiteralPath $librarySourceDir \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003eFile \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003eRecurse \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e|\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003eWhere-Object\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e { \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003e$_\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e.FullName \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-notlike\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e'*\\node_modules\\*'\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-and\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003e$_\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e.Name \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-ne\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e'typings.ts'\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e } \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e|\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003eSort-Object\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e LastWriteTime \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003eDescending \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e|\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003eSelect-Object\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003eFirst \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003e1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    ).LastWriteTime\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    $dateB \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003eGet-ChildItem\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003eLiteralPath $npmBuildOutDir \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003eFile \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003eRecurse \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e|\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003eSort-Object\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e LastWriteTime \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003eDescending \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e|\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003eSelect-Object\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003eFirst \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003e1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    ).LastWriteTime\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eif\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e ($dateA \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e-gt\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e $dateB) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003eWrite-Host\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e'Library source files are newer than dist. Building the library...'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        cd $librarySourceDir\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        npm run build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eSo we simply check if:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThere are not yet any JavaScript distributables in the \u003ccode\u003ewwwroot/js\u003c/code\u003e directory\u003c/li\u003e\n\u003cli\u003eOR if any of the files in the Vite project have more recent \u003ccode\u003eLastWriteTime\u003c/code\u003e compared to the current distributables.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAnd if either of these conditions is met, the Vite project is built. Note that we exclude the \u003ccode\u003etypings.ts\u003c/code\u003e file from the \u003ccode\u003eLastWriteTime\u003c/code\u003e comparison, because \u003ccode\u003eReinforced.Typings\u003c/code\u003e can regenerate the file even when no actual changes have been made.\u003c/p\u003e\n\u003ch2 id=\"creating-the-vite-project\"\u003e\u003ca href=\"#creating-the-vite-project\"\u003eCreating the Vite project\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eIn order to create the Vite project, one should navigate to the desired directory, which in our case is \u003ccode\u003eAdapters/\u003c/code\u003e under the \u003ccode\u003e.csproj\u003c/code\u003e project directory, and run the following command:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"sh\" data-theme=\"light\"\u003e\u003ccode data-language=\"sh\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6F42C1\"\u003enpm\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003ecreate\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003evite@latest\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"sh\" data-theme=\"dark\"\u003e\u003ccode data-language=\"sh\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B392F0\"\u003enpm\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003ecreate\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003evite@latest\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIn our case the project name is \u003ccode\u003eblazortsinteropexample\u003c/code\u003e and we want to use just the vanilla Vite and the TypeScript variant.\u003c/p\u003e\n\u003cp\u003eNext, we install \u003ccode\u003e@types/blazor__javascript-interop\u003c/code\u003e as a dev dependency:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"sh\" data-theme=\"light\"\u003e\u003ccode data-language=\"sh\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6F42C1\"\u003enpm\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003einstall\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003e--save-dev\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e@types/blazor__javascript-interop\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"sh\" data-theme=\"dark\"\u003e\u003ccode data-language=\"sh\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B392F0\"\u003enpm\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003einstall\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003e--save-dev\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e@types/blazor__javascript-interop\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eFinally, since we use Prettier for code formatting, we want to exclude the auto-generated \u003ccode\u003etypings.ts\u003c/code\u003e from its scope by adding a \u003ccode\u003e.prettierignore\u003c/code\u003e file under the Vite project with the following content:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"powershell\" data-theme=\"light\"\u003e\u003ccode data-language=\"powershell\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003etypings.ts\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"powershell\" data-theme=\"dark\"\u003e\u003ccode data-language=\"powershell\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003etypings.ts\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eAssuming we added the earlier discussed \u003ccode\u003eBrowserConsoleAdapter\u003c/code\u003e skeleton to the C# project and we now run MSBuild, we should see the \u003ccode\u003etypings.ts\u003c/code\u003e file with the following content getting generated under the \u003ccode\u003esrc\u003c/code\u003e directory of the Vite project:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"typescript\" data-theme=\"light\"\u003e\u003ccode data-language=\"typescript\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e//     This code was generated by a Reinforced.Typings tool.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e//     Changes to this file may cause incorrect behavior and will be lost if\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e//     the code is regenerated.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003einterface\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIBrowserConsoleAdapter\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003elogAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ePromise\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003evoid\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"typescript\" data-theme=\"dark\"\u003e\u003ccode data-language=\"typescript\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e//     This code was generated by a Reinforced.Typings tool.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e//     Changes to this file may cause incorrect behavior and will be lost if\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e//     the code is regenerated.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003einterface\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIBrowserConsoleAdapter\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003elogAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ePromise\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003evoid\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eNext, let's implement the \u003ccode\u003elogAsync\u003c/code\u003e TypeScript handler according to the approach that we planned earlier:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"typescript\" data-theme=\"light\"\u003e\u003ccode data-language=\"typescript\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// browserConsoleAdapter.ts\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eimport\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e { IBrowserConsoleAdapter } \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003efrom\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"./typings\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003elogAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  console.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003elog\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(message)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003edefault\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e { logAsync } \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eas\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIBrowserConsoleAdapter\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"typescript\" data-theme=\"dark\"\u003e\u003ccode data-language=\"typescript\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// browserConsoleAdapter.ts\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eimport\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e { IBrowserConsoleAdapter } \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003efrom\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"./typings\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003elogAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  console.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003elog\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(message)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003edefault\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e { logAsync } \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eas\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIBrowserConsoleAdapter\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eNote that the last line \u003ccode\u003eexport default { logAsync } as IBrowserConsoleAdapter\u003c/code\u003e binds everything together and gives us the security of strong types:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eIf members are removed from or added to the \u003ccode\u003eBrowserConsoleAdapter\u003c/code\u003e C# class, equivalent changes \u003cstrong\u003emust\u003c/strong\u003e be made to the \u003ccode\u003ebrowserConsoleAdapter.ts\u003c/code\u003e module's default export, or otherwise the Vite build and thus the MSBuild will fail. üéâ\u003c/li\u003e\n\u003cli\u003eIf the signature of an existing member of the \u003ccode\u003eBrowserConsoleAdapter\u003c/code\u003e C# class change, equivalent changes \u003cstrong\u003emust\u003c/strong\u003e be made to the \u003ccode\u003ebrowserConsoleAdapter.ts\u003c/code\u003e module's default export, or otherwise the Vite build and thus the MSBuild will fail. üéâ\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFinally, let's instruct Vite to generate a \u003ccode\u003ebrowserConsoleAdapter.js\u003c/code\u003e module from the \u003ccode\u003ebrowserConsoleAdapter.ts\u003c/code\u003e module during build and output it to the JavaScript distributables directory under \u003ccode\u003ewwwroot/js\u003c/code\u003e. Let's make the followind changes to the \u003ccode\u003evite.config.js\u003c/code\u003e file:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"javascript\" data-theme=\"light\"\u003e\u003ccode data-language=\"javascript\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// vite.config.js\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eimport\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e { defineConfig } \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003efrom\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"vite\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// https://vitejs.dev/config/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003edefault\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003edefineConfig\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  build: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    emptyOutDir: \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    outDir: \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"../../wwwroot/js/dist\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    lib: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e      entry: [\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"src/browserConsoleAdapter.ts\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e],\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e      formats: [\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"es\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e})\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"javascript\" data-theme=\"dark\"\u003e\u003ccode data-language=\"javascript\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// vite.config.js\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eimport\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e { defineConfig } \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003efrom\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"vite\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// https://vitejs.dev/config/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003edefault\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003edefineConfig\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  build: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    emptyOutDir: \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    outDir: \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"../../wwwroot/js/dist\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    lib: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e      entry: [\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"src/browserConsoleAdapter.ts\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e],\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e      formats: [\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"es\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e})\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWe instruct Vite to first clear the \u003ccode\u003ewwwroot/js/dist\u003c/code\u003e directory and then output the built JavaScript module of the \u003ccode\u003ebrowserConsoleAdapter.ts\u003c/code\u003e TypeScript module/entry point in the ESModule format. This way we can later import each module separately, either eagerly or lazily as needed.\u003c/p\u003e\n\u003ch2 id=\"browserconsoleadapter--from-c-to-typescript\"\u003e\u003ca href=\"#browserconsoleadapter--from-c-to-typescript\"\u003e\u003ccode\u003eBrowserConsoleAdapter\u003c/code\u003e ‚Äì from C# to TypeScript\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eLet's finalize the implementation of the \u003ccode\u003eBrowserConsoleAdapter\u003c/code\u003e class skeleton that we added earlier. In order to invoke the \u003ccode\u003elogAsync\u003c/code\u003e (TypeScript) function from the adapter, the adapter needs to make sure that the \u003ccode\u003ebrowserConsoleAdapter.js\u003c/code\u003e module has been imported. After that it can invoke the \u003ccode\u003elogAsync\u003c/code\u003e function that has been exported as part of the \u003ccode\u003edefault\u003c/code\u003e object:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"csharp\" data-theme=\"light\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// BrowserConsoleAdapter.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e[\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTsInterface\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eBrowserConsoleAdapter\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(IJSRuntime js)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIJSObjectReference\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e? \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003emodule\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eLogAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, [\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTsIgnore\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eCancellationToken\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ecancellationToken\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e default)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        module \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e??=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eImportModule\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(cancellationToken);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e module.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eInvokeVoidAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"default.logAsync\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, cancellationToken, [message]);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    [\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTsIgnore\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIJSObjectReference\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eImportModule\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eCancellationToken\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ecancellationToken\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e js.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eInvokeAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIJSObjectReference\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e(\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"import\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, cancellationToken, \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"./js/dist/browserConsoleAdapter.js\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"csharp\" data-theme=\"dark\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// BrowserConsoleAdapter.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e[\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTsInterface\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eBrowserConsoleAdapter\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(IJSRuntime js)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIJSObjectReference\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e? \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003emodule\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eLogAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003emessage\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, [\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTsIgnore\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eCancellationToken\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ecancellationToken\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e default)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        module \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e??=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eImportModule\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(cancellationToken);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e module.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eInvokeVoidAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"default.logAsync\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, cancellationToken, [message]);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    [\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTsIgnore\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIJSObjectReference\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eImportModule\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eCancellationToken\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ecancellationToken\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e js.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eInvokeAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIJSObjectReference\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e(\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"import\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, cancellationToken, \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"./js/dist/browserConsoleAdapter.js\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWe can inject \u003ccode\u003eIJSRuntime\u003c/code\u003e to the \u003ccode\u003eBrowserConsoleAdapter\u003c/code\u003e object and use it to import the \u003ccode\u003ebrowserConsoleAdapter.js\u003c/code\u003e module located under the \u003ccode\u003ewwwroot/js/dist\u003c/code\u003e directory. Note that we annotate the \u003ccode\u003eImportModule\u003c/code\u003e method with \u003ccode\u003eTsIgnoreAttribute\u003c/code\u003e in order to exclude it from the \u003ccode\u003etypings.ts\u003c/code\u003e auto-generation. We also added a \u003ccode\u003eCancellationToken\u003c/code\u003e parameter to the \u003ccode\u003eLogAsync\u003c/code\u003e method, so that the import and the remote invocation over interop can be both cancelled gracefully if needed. We annotate it with \u003ccode\u003eTsIgnoreAttribute\u003c/code\u003e as well, because we don't want to pass \u003ccode\u003eCancellationToken\u003c/code\u003e objects as serialized JSON over interop. With \u003ccode\u003e??=\u003c/code\u003e we ensure that the module import is attempted only once in the scope of a single adapter object. When another adapter object is instantiated and the import is attempted again, the usual JavaScript module caching conventions of the user's browser are applied.\u003c/p\u003e\n\u003cp\u003eLet's add the \u003ccode\u003eBrowserConsoleAdapter\u003c/code\u003e class as a scoped service to the C# project's Dependency Injection container in the \u003ccode\u003eProgram.cs\u003c/code\u003e file and let's use it to print greetings to the browser console:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"csharp\" data-theme=\"light\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// Program.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003ebuilder.Services.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eAddScoped\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eBrowserConsoleAdapter\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e();\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"csharp\" data-theme=\"dark\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// Program.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003ebuilder.Services.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eAddScoped\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eBrowserConsoleAdapter\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e();\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"razor\" data-theme=\"light\"\u003e\u003ccode data-language=\"razor\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e\u0026#x3C;!-- Home.razor --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003e@inject\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eBrowserConsoleAdapter\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eBrowserConsole\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003eC# ‚Üí TypeScript\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003ebutton\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eonclick\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e@(()\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B31D28; font-style: italic\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e BrowserConsole.LogAsync(\"Greetings!\"))\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    Log greetings to browser console\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003ebutton\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"razor\" data-theme=\"dark\"\u003e\u003ccode data-language=\"razor\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e\u0026#x3C;!-- Home.razor --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003e@inject\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eBrowserConsoleAdapter\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eBrowserConsole\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003eC# ‚Üí TypeScript\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003ebutton\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eonclick\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e@(()\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #FDAEB7; font-style: italic\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e BrowserConsole.LogAsync(\"Greetings!\"))\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    Log greetings to browser console\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003ebutton\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eNow, if we build and launch the Blazor application, we should be able to see the \u003ccode\u003ebutton\u003c/code\u003e which prints greetings to the browser console when clicked.\u003c/p\u003e\n\u003ch2 id=\"pointereventsadapter--from-typescript-to-c\"\u003e\u003ca href=\"#pointereventsadapter--from-typescript-to-c\"\u003e\u003ccode\u003ePointerEventsAdapter\u003c/code\u003e ‚Äì from TypeScript to C#\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eEarlier we added the \u003ccode\u003eHandleClickAtAsync\u003c/code\u003e C# handler method to the \u003ccode\u003eHome.razor\u003c/code\u003e file. We'd like that to be invoked whenever a user clicks on the page. The TypeScript invoker must have access to a \u003ccode\u003eDotNet.DotNetObject\u003c/code\u003e (TypeScript) handle of the \u003ccode\u003eHome\u003c/code\u003e component object that we'd like to use for handling the invocation. While initializing the \u003ccode\u003eHome\u003c/code\u003e component, let's create a \u003ccode\u003eDotNetObjectReference\u003c/code\u003e (C#) handle that refers to the \u003ccode\u003eHome\u003c/code\u003e component object itself:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"razor\" data-theme=\"light\"\u003e\u003ccode data-language=\"razor\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e\u0026#x3C;!-- Home.razor --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003e@inject\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ePointerEventsAdapter\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ePointerEvents\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003eTypeScript ‚Üí C#\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eol\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e@foreach\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003evar\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ex\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ey\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e) \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ein\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e clickPositions)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eli\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003eClicked at \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e@\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003ex, \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e@\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003ey.\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eli\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #22863A\"\u003eol\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003e@code\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNetObjectReference\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eHome\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e? \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eselfReference\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eList\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;(\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eX\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eY\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eclickPositions\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e [];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eprotected\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eoverride\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eOnInitializedAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        selfReference \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e DotNetObjectReference.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eCreate\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ethis\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e PointerEvents.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eAddForHandlerAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(selfReference, default);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    [\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eJSInvokable\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eHandleClickAtAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ex\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ey\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        clickPositions.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eAdd\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e((x, y));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eStateHasChanged\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e Task.CompletedTask;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"razor\" data-theme=\"dark\"\u003e\u003ccode data-language=\"razor\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e\u0026#x3C;!-- Home.razor --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003e@inject\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ePointerEventsAdapter\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ePointerEvents\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003eTypeScript ‚Üí C#\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eol\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e@foreach\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003evar\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ex\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ey\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e) \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ein\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e clickPositions)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eli\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003eClicked at \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e@\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003ex, \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e@\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003ey.\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eli\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #85E89D\"\u003eol\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003e@code\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNetObjectReference\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eHome\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e? \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eselfReference\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eList\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;(\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eX\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eY\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eclickPositions\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e [];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eprotected\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eoverride\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eOnInitializedAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        selfReference \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e DotNetObjectReference.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eCreate\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ethis\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e PointerEvents.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eAddForHandlerAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(selfReference, default);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    [\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eJSInvokable\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eHandleClickAtAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ex\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ey\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        clickPositions.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eAdd\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e((x, y));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eStateHasChanged\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e Task.CompletedTask;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWe also inject a \u003ccode\u003ePointerEventsAdapter\u003c/code\u003e object to the component and invoke its \u003ccode\u003eAddForHandlerAsync\u003c/code\u003e method. This method essentially passes the \u003ccode\u003eDotNetObjectReference\u0026#x3C;Home\u003e\u003c/code\u003e (C#) handle from C# to TypeScript by invoking the \u003ccode\u003eaddForHandlerAsync\u003c/code\u003e handler function of \u003ccode\u003epointerEventsAdapter.js\u003c/code\u003e, a new JavaScript module that will be introduced in a moment:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"csharp\" data-theme=\"light\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// PointerEventsAdapter.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e[\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTsInterface\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ePointerEventsAdapter\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(IJSRuntime js) : \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIAsyncDisposable\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIJSObjectReference\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e? \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003emodule\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eAddForHandlerAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e(\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNetObjectReference\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ehandlerReference\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, [\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTsIgnore\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eCancellationToken\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ecancellationToken\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ewhere\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e : \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIPointerEventsAdapterHandler\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        module \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e??=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eImportModule\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(cancellationToken);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e module.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eInvokeVoidAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"default.addForHandlerAsync\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, cancellationToken, [handlerReference]);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    [\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTsIgnore\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIJSObjectReference\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eImportModule\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eCancellationToken\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ecancellationToken\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e js.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eInvokeAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIJSObjectReference\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e(\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"import\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, cancellationToken, \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"./js/dist/pointerEventsAdapter.js\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"csharp\" data-theme=\"dark\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// PointerEventsAdapter.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e[\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTsInterface\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ePointerEventsAdapter\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(IJSRuntime js) : \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIAsyncDisposable\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIJSObjectReference\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e? \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003emodule\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eAddForHandlerAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e(\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNetObjectReference\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ehandlerReference\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, [\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTsIgnore\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eCancellationToken\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ecancellationToken\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ewhere\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e : \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIPointerEventsAdapterHandler\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        module \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e??=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eImportModule\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(cancellationToken);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e module.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eInvokeVoidAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"default.addForHandlerAsync\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, cancellationToken, [handlerReference]);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    [\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTsIgnore\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIJSObjectReference\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eImportModule\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eCancellationToken\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ecancellationToken\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e js.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eInvokeAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIJSObjectReference\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e(\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"import\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, cancellationToken, \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"./js/dist/pointerEventsAdapter.js\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eInstead of requiring the passed \u003ccode\u003eDotNetObjectReference\u003c/code\u003e handle to strictly refer to a \u003ccode\u003eHome\u003c/code\u003e component object, we use a generic parameter \u003ccode\u003eTHandler\u003c/code\u003e with an interface constraint. This way any class implementing the \u003ccode\u003eIPointerEventsAdapterHandler\u003c/code\u003e interface can be used to instantiate compatible C# handler objects. So let's also create the \u003ccode\u003eIPointerEventsAdapterHandler\u003c/code\u003e interface and make the \u003ccode\u003eHome\u003c/code\u003e component implement it:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"csharp\" data-theme=\"light\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// IPointerEventsAdapterHandler.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e[\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTsInterface\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003einterface\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIPointerEventsAdapterHandler\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eHandleClickAtAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ex\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ey\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"csharp\" data-theme=\"dark\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// IPointerEventsAdapterHandler.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e[\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTsInterface\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003epublic\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003einterface\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIPointerEventsAdapterHandler\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTask\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eHandleClickAtAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ex\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eint\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ey\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"razor\" data-theme=\"light\"\u003e\u003ccode data-language=\"razor\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e\u0026#x3C;!-- Home.razor --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003e@implements\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIPointerEventsAdapterHandler\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003e@inject\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ePointerEventsAdapter\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ePointerEvents\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"razor\" data-theme=\"dark\"\u003e\u003ccode data-language=\"razor\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e\u0026#x3C;!-- Home.razor --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003e@implements\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIPointerEventsAdapterHandler\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003e@inject\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ePointerEventsAdapter\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ePointerEvents\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eNote that the \u003ccode\u003eHandleClickAtAsync\u003c/code\u003e signature can't have a \u003ccode\u003eCancellationToken\u003c/code\u003e parameter because, in this case, invocations originate from TypeScript and the concept of \u003ccode\u003eCancellationToken\u003c/code\u003e doesn't exist there.\u003c/p\u003e\n\u003cp\u003eWhile we're at it, let's register the \u003ccode\u003ePointerEventsAdapter\u003c/code\u003e class as a scoped service in the \u003ccode\u003eProgram.cs\u003c/code\u003e file:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"csharp\" data-theme=\"light\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// Program.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003ebuilder.Services.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eAddScoped\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ePointerEventsAdapter\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e();\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"csharp\" data-theme=\"dark\"\u003e\u003ccode data-language=\"csharp\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// Program.cs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003ebuilder.Services.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eAddScoped\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ePointerEventsAdapter\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e();\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eNow, when the C# project is built, new auto-generated types will get added the \u003ccode\u003etypings.ts\u003c/code\u003e file:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"typescript\" data-theme=\"light\"\u003e\u003ccode data-language=\"typescript\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003einterface\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIPointerEventsAdapterHandler\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ehandleClickAtAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003ex\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003enumber\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003ey\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003enumber\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ePromise\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003evoid\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003einterface\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIPointerEventsAdapter\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eaddForHandlerAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e(\u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003ehandlerReference\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNet\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNetObject\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ePromise\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003evoid\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"typescript\" data-theme=\"dark\"\u003e\u003ccode data-language=\"typescript\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003einterface\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIPointerEventsAdapterHandler\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ehandleClickAtAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003ex\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003enumber\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003ey\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003enumber\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ePromise\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003evoid\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003einterface\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIPointerEventsAdapter\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eaddForHandlerAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e(\u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003ehandlerReference\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNet\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNetObject\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ePromise\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003evoid\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWe can now implement the \u003ccode\u003epointerEventsAdapter\u003c/code\u003e (TypeScript) handler module, that should export the \u003ccode\u003eaddForHandlerAsync\u003c/code\u003e handler function. A na√Øve implementation of the handler would look like this:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"typescript\" data-theme=\"light\"\u003e\u003ccode data-language=\"typescript\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// pointerEventsAdapter.ts\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003elet\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e handlerRef\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNet\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNetObject\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eaddForHandlerAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003ehandlerReference\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNet\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNetObject\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  handlerRef \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e handlerReference\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  window.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eaddEventListener\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"click\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003eev\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    handlerRef.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003einvokeMethodAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"HandleClickAtAsync\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, ev.x, ev.y)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003edefault\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e { addForHandlerAsync } \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eas\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIPointerEventsAdapter\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"typescript\" data-theme=\"dark\"\u003e\u003ccode data-language=\"typescript\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// pointerEventsAdapter.ts\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003elet\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e handlerRef\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNet\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNetObject\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eaddForHandlerAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003ehandlerReference\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNet\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNetObject\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  handlerRef \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e handlerReference\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  window.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eaddEventListener\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"click\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003eev\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    handlerRef.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003einvokeMethodAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"HandleClickAtAsync\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, ev.x, ev.y)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003edefault\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e { addForHandlerAsync } \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eas\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIPointerEventsAdapter\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eWith the na√Øve implementation, the invocation of the \u003ccode\u003eHandleClickAtAsync\u003c/code\u003e (C#) handler method would not utilize any of our auto-generated interfaces and would be fully dynamically typed. Instead of this, let's create an \u003ccode\u003einvokeHandler\u003c/code\u003e utility TypeScript function that makes sure that all C# handler method invocations from TypeScript are covered by TypeScript type checking:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"typescript\" data-theme=\"light\"\u003e\u003ccode data-language=\"typescript\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// utils.ts\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003etype\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eExtractParams\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eT\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eK\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eextends\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ekeyof\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eT\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eT\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e[\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eK\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eextends\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e...\u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003eargs\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003einfer\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eP\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e) \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003eany\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e?\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eP\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003enever\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003etype\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eExtractReturn\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eT\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eK\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eextends\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ekeyof\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eT\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eT\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e[\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eK\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eextends\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e...\u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003eargs\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003eany\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e[]) \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ePromise\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003einfer\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eR\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e?\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eR\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003enever\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003einvokeHandler\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003ehandlerRef\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNet\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNetObject\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003emember\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ekeyof\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e...\u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003eargs\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eExtractParams\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ekeyof\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003ePromise\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eExtractReturn\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ekeyof\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003emethodName\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e member.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003echarAt\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003e0\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e).\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003etoUpperCase\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e() \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e+\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e member.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eslice\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003e1\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e handlerRef.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003einvokeMethodAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(methodName, \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e...\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003eargs)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"typescript\" data-theme=\"dark\"\u003e\u003ccode data-language=\"typescript\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// utils.ts\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003etype\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eExtractParams\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eT\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eK\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eextends\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ekeyof\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eT\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eT\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e[\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eK\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eextends\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e...\u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003eargs\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003einfer\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eP\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e) \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003eany\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e?\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eP\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003enever\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003etype\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eExtractReturn\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eT\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eK\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eextends\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ekeyof\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eT\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eT\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e[\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eK\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e] \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eextends\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e (\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e...\u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003eargs\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003eany\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e[]) \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ePromise\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003einfer\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eR\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e?\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eR\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003enever\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003einvokeHandler\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003ehandlerRef\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNet\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNetObject\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003emember\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ekeyof\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e...\u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003eargs\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eExtractParams\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ekeyof\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003ePromise\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eExtractReturn\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ekeyof\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eTHandler\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003estring\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003emethodName\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e member.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003echarAt\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003e0\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e).\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003etoUpperCase\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e() \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e+\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e member.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eslice\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003e1\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e handlerRef.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003einvokeMethodAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(methodName, \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e...\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003eargs)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eBy passing an auto-generated interface as an argument to the generic parameter \u003ccode\u003eTHandler\u003c/code\u003e, \u003ccode\u003einvokeHandler\u003c/code\u003e makes sure that the C# handler method we are attempting to invoke is one of the members of the interface AND that the passed parameters and the return type match the member's signature üéâ. So our final implementation of the \u003ccode\u003epointerEventsAdapter\u003c/code\u003e (TypeScript) handler looks like this:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"typescript\" data-theme=\"light\"\u003e\u003ccode data-language=\"typescript\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// pointerEventsAdapter.ts\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003elet\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e handlerRef\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNet\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNetObject\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eaddForHandlerAsync\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003ehandlerReference\u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNet\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eDotNetObject\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  handlerRef \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e handlerReference\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  window.\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eaddEventListener\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"click\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #E36209\"\u003eev\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003einvokeHandler\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIPointerEventsAdapterHandler\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e\u003e(handlerRef, \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"handleClickAtAsync\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, ev.x, ev.y)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003edefault\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e { addForHandlerAsync } \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003eas\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003eIPointerEventsAdapter\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"typescript\" data-theme=\"dark\"\u003e\u003ccode data-language=\"typescript\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// pointerEventsAdapter.ts\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003elet\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e handlerRef\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNet\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNetObject\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003easync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eaddForHandlerAsync\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003ehandlerReference\u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e:\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNet\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eDotNetObject\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  handlerRef \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e handlerReference\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  window.\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eaddEventListener\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e(\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"click\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #FFAB70\"\u003eev\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003einvokeHandler\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIPointerEventsAdapterHandler\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e\u003e(handlerRef, \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"handleClickAtAsync\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, ev.x, ev.y)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003edefault\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e { addForHandlerAsync } \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003eas\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003eIPointerEventsAdapter\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eNote that we store the \u003ccode\u003ehandlerReference\u003c/code\u003e argument to the \u003ccode\u003ehandlerRef\u003c/code\u003e variable simply so that other TypeScript handler functions added to the \u003ccode\u003epointerEventsAdapter\u003c/code\u003e handler can reuse it. Though, in our example implementation it's not strictly required.\u003c/p\u003e\n\u003cp\u003eFinally, let's add the \u003ccode\u003epointerEventsAdapter.ts\u003c/code\u003e file as a new entry point to \u003ccode\u003evite.config.js\u003c/code\u003e, so that Vite will build the \u003ccode\u003epointerEventsAdapter.js\u003c/code\u003e module:\u003c/p\u003e\n\u003cdiv data-rehype-pretty-code-fragment=\"\"\u003e\u003cpre data-language=\"javascript\" data-theme=\"light\"\u003e\u003ccode data-language=\"javascript\" data-theme=\"light\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// vite.config.js\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eimport\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e { defineConfig } \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003efrom\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"vite\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// https://vitejs.dev/config/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D73A49\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #D73A49\"\u003edefault\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e \u003c/span\u003e\u003cspan style=\"color: #6F42C1\"\u003edefineConfig\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  build: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    emptyOutDir: \u003c/span\u003e\u003cspan style=\"color: #005CC5\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    outDir: \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"../../wwwroot/js/dist\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    lib: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e      entry: [\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"src/browserConsoleAdapter.ts\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"src/pointerEventsAdapter.ts\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e],\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e      formats: [\u003c/span\u003e\u003cspan style=\"color: #032F62\"\u003e\"es\"\u003c/span\u003e\u003cspan style=\"color: #24292E\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #24292E\"\u003e})\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre data-language=\"javascript\" data-theme=\"dark\"\u003e\u003ccode data-language=\"javascript\" data-theme=\"dark\"\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// vite.config.js\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eimport\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e { defineConfig } \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003efrom\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"vite\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A737D\"\u003e// https://vitejs.dev/config/\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #F97583\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #F97583\"\u003edefault\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e \u003c/span\u003e\u003cspan style=\"color: #B392F0\"\u003edefineConfig\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  build: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    emptyOutDir: \u003c/span\u003e\u003cspan style=\"color: #79B8FF\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    outDir: \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"../../wwwroot/js/dist\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    lib: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e      entry: [\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"src/browserConsoleAdapter.ts\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e, \u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"src/pointerEventsAdapter.ts\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e],\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e      formats: [\u003c/span\u003e\u003cspan style=\"color: #9ECBFF\"\u003e\"es\"\u003c/span\u003e\u003cspan style=\"color: #E1E4E8\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #E1E4E8\"\u003e})\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eNow, if we build and launch the Blazor application, we should be able to see new entries appearing to the list shown on the page each time we click somewhere.\u003c/p\u003e\n\u003ch2 id=\"evaluation\"\u003e\u003ca href=\"#evaluation\"\u003eEvaluation\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eThe goals we set in the introduction of this article were met relatively well:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eType changes in C# are automatically propagated to TypeScript by \u003ccode\u003eReinforced.Typings\u003c/code\u003e. ‚úÖ\u003c/li\u003e\n\u003cli\u003eWe fully leverage TypeScript's type checking capabilities and type mismatches are automatically detected as part of the Blazor app's MSBuild process. ‚úÖ\u003c/li\u003e\n\u003cli\u003eThe Vite project gets automatically built whenever it's necessary ‚Äì and doesn't when it's not ‚Äì as part of the Blazor app's MSBuild process. ‚úÖ\u003c/li\u003e\n\u003cli\u003eJavaScript modules can be re-imported during a Blazor debug session by simply refreshing the page. We can even have Vite watching for changes in files in the Vite project and automatically rebuild the distributables by using the \u003ccode\u003enpm watch\u003c/code\u003e command. \u003ccode\u003enpm watch\u003c/code\u003e can run in parallel with a Blazor debug session. ‚úÖ\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eNaturally, the standard limitations of the Blazor JavaScript interop haven't gone anywhere. For example, our TypeScript handlers don't really understand C# object references, except for what limited support \u003ccode\u003eDotNet.DotNetObject\u003c/code\u003e handles provide. All communication still uses simple JSON serialization.\u003c/p\u003e\n\u003cp\u003eAlso, the caveats of TypeScript duck-typing apply. As an example, if we removed the \u003ccode\u003emessage\u003c/code\u003e parameter of the \u003ccode\u003elogAsync\u003c/code\u003e function from the \u003ccode\u003ebrowserConsoleAdapter\u003c/code\u003e (TypeScript) module, \u003ccode\u003elogAsync\u003c/code\u003e would still be compliant with the auto-generated \u003ccode\u003eIBrowserConsoleAdapter\u003c/code\u003e (TypeScript) interface, thanks to duck-typing. But, on the other hand, changing the \u003ccode\u003emessage\u003c/code\u003e parameter's type or adding more parameters to the \u003ccode\u003elogAsync\u003c/code\u003e function, when not implementing corresponding changes to the \u003ccode\u003eBrowserConsoleAdapter\u003c/code\u003e (C#) class, would be caught.\u003c/p\u003e"])</script><script>self.__next_f.push([1,"d:[\"$\",\"div\",null,{\"className\":\"flex justify-center\",\"children\":[\"$\",\"div\",null,{\"className\":\"md:px-10 min-w-0 max-w-7xl mb-12\",\"children\":[\"$\",\"article\",null,{\"children\":[[\"$\",\"header\",null,{\"className\":\"px-5 mb-4 py-10 relative\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl leading-none tracking-tight text-gray-900 md:text-4xl lg:text-5xl dark:text-gray-100\",\"children\":\"Blazor with TypeScript Interop\"}],[\"$\",\"time\",null,{\"dateTime\":\"2025-03-09 16:00\",\"className\":\"pl-1 font-serif text-slate-400 bottom-0 absolute\",\"children\":[[\"$\",\"svg\",null,{\"className\":\"h-4 w-4 inline-block\",\"width\":\"24\",\"height\":\"24\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":\"2\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12 19l7-7 3 3-7 7-3-3z\"}],\" \",[\"$\",\"path\",null,{\"d\":\"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z\"}],\" \",[\"$\",\"path\",null,{\"d\":\"M2 2l7.586 7.586\"}],\" \",[\"$\",\"circle\",null,{\"cx\":\"11\",\"cy\":\"11\",\"r\":\"2\"}]]}],\" \",\"2025-03-09 16:00\"]}]]}],[\"$\",\"div\",null,{\"className\":\"bg-slate-100 dark:bg-slate-800 p-5 pb-12 rounded shadow-lg\",\"children\":[[[\"$\",\"p\",null,{\"className\":\"italic text-slate-400 p-4\",\"dangerouslySetInnerHTML\":{\"__html\":\"You can find the full code for the example discussed here in its \u003ca href=\\\"https://github.com/iotalambda/BlazorTsInteropExample\\\"\u003eGithub repo\u003c/a\u003e. It's also running and available at \u003ca href=\\\"https://food.joona.cloud/BlazorTsInteropExample\\\"\u003ehttps://food.joona.cloud/BlazorTsInteropExample\u003c/a\u003e.\"}}],[\"$\",\"hr\",null,{\"className\":\"h-px my-4 bg-gray-200 border-0 dark:bg-gray-700\"}]],[\"$\",\"div\",null,{\"className\":\"space-y-4\",\"dangerouslySetInnerHTML\":{\"__html\":\"$e\"}}]]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"7:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Blazor with TypeScript Interop | Food for AI blog\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Blog about .NET, Azure, React and whatever comes to mind.\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\nc:null\n"])</script></body></html>